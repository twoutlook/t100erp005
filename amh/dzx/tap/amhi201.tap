<add_points prog="amhi201" std_prog="amhi201" erpver="1.0" module="AMH" ver="1" env="s" zone="t10dev" booking="Y">
  <point name="function.amhi201_mhaasite_ref" cite_std="N" status="" ver="1" src="s" new="Y" order="1" cite_ver="" mark_hard="N">
<![CDATA[#display mhaasite
PRIVATE FUNCTION amhi201_mhaasite_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_mhaa_m.mhaasite
   CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_mhaa_m.mhaasite_desc = '', g_rtn_fields[1] , ''
   DISPLAY BY NAME g_mhaa_m.mhaasite_desc
END FUNCTION]]>
</point>
  <point name="function.amhi201_mhaaunit_ref" cite_std="N" status="" ver="1" src="s" new="Y" order="2" cite_ver="" mark_hard="N">
<![CDATA[#mhaasite
PRIVATE FUNCTION amhi201_mhaaunit_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_mhaa_d[l_ac].mhaaunit
   CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_mhaa_d[l_ac].mhaaunit_desc = '', g_rtn_fields[1] , ''
   DISPLAY  g_mhaa_d[l_ac].mhaaunit_desc to s_detail1[l_ac].mhaaunit_desc
END FUNCTION]]>
</point>
  <point name="function.amhi201_chk_mhaastus" cite_std="N" status="" ver="1" src="s" new="Y" order="3" cite_ver="" mark_hard="N">
<![CDATA[#chk mhaastus
PRIVATE FUNCTION amhi201_chk_mhaastus()
   DEFINE  l_cnt   like type_t.num5
   define  l_cnt1  like type_t.num5
   define  l_success  like type_t.num5
   define  l_errno    string
   let l_cnt = 0
   let l_cnt1 = 0
   let l_success = true
   let l_errno = null
   if g_mhaa_d[l_ac].mhaastus='N' then
      
         IF cl_ask_confirm('amh-00016') THEN
            let l_success = TRUE
            return l_success,l_errno
         else
            let l_success = false
            return l_success,l_errno
         end if      
   end if  
      
   return l_success,l_errno
END FUNCTION]]>
</point>
  <point name="b_fill.fill" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                  let g_mhaa2_d[l_ac].mhaa001 = g_mhaa_d[l_ac].mhaa001]]>
</point>
  <point name="construct.c.mhaasite" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
			LET g_qryparam.arg2 = '2'
            CALL q_ooed004()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO mhaasite  #顯示到畫面上

            NEXT FIELD mhaasite                     #返回原欄位

]]>
</point>
  <point name="construct.c.page1.mhaa001" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_mhaa001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO mhaa001  #顯示到畫面上

            NEXT FIELD mhaa001                     #返回原欄位

]]>
</point>
  <point name="construct.c.page1.mhaaunit" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
			LET g_qryparam.arg2 = '2'
            CALL q_ooed004()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO mhaaunit  #顯示到畫面上

            NEXT FIELD mhaaunit                     #返回原欄位

]]>
</point>
  <point name="delete.body.a_single_delete" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[      DELETE FROM mhaal_t
    WHERE mhaalent = g_enterprise AND mhaalsite = g_mhaa_m.mhaasite AND
 
          mhaal001 = g_mhaa_d_t.mhaa001
   IF SQLCA.sqlcode THEN
      CALL cl_err("mhaal_t",SQLCA.sqlcode,1)
      RETURN FALSE 
   END IF       ]]>
</point>
  <point name="delete.body.b_delete" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            let l_sql = " SELECT mhaa001 FROM mhaa_t WHERE mhaaent = ",g_enterprise," AND mhaasite = '",g_mhaa_m.mhaasite,"' "
      PREPARE l_sql_mhaa_pre from l_sql
      declare l_sql_mhaa_cs cursor for l_sql_mhaa_pre
      let l_cnt=0
      foreach l_sql_mhaa_cs into l_mhaa001
         select count(*) into l_cnt from mhab_t where mhabent = g_enterprise and mhab001 = l_mhaa001
         if l_cnt >0 then
            call cl_err("mhaa_t","amh-00015",1)
            return
         end if
         let l_cnt=0
         select count(*) into l_cnt from mhac_t where mhacent = g_enterprise and mhac001 = l_mhaa001
         if l_cnt >0 then
            call cl_err("mhaa_t","amh-00015",1)
            return
         end if
         let l_cnt=0
         select count(*) into l_cnt from mhad_t where mhadent = g_enterprise and mhad001 = l_mhaa001
         if l_cnt >0 then
            call cl_err("mhaa_t","amh-00015",1)
            return
         end if
         let l_mhaa001 = null
         let l_cnt=0
      end foreach
      DELETE FROM mhaal_t WHERE mhaalent = g_enterprise 
         AND mhaal001 IN  (SELECT mhaa001 FROM mhaa_t WHERE mhaaent = g_enterprise AND mhaasite = g_mhaa_m.mhaasite)
      IF SQLCA.sqlcode THEN
         CALL cl_err("mhab_t",SQLCA.sqlcode,0)
         CALL s_transaction_end('N','0')
         RETURN
      END IF
      ]]>
</point>
  <point name="delete.define" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[      define  l_cnt           like type_t.num5
   define l_sql            string
   define  l_mhaa001       like mhaa_t.mhaa001]]>
</point>
  <point name="global.variable" cite_std="N" status="" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[define g_i                   like type_t.num5
define g_mhad005             like mhad_t.mhad005
define g_mhad006             like mhad_t.mhad006
define g_mhad007             like mhad_t.mhad007]]>
</point>
  <point name="input.a.mhaasite" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        #此段落由子樣板a05產生
            LET g_mhaa_m.mhaasite_desc = null
            DISPLAY BY NAME g_mhaa_m.mhaasite_desc
            IF  NOT cl_null(g_mhaa_m.mhaasite) THEN 
               IF p_cmd = 'a' OR ( p_cmd = 'u' AND (g_mhaa_m.mhaasite != g_mhaasite_t )) THEN 
                  IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM mhaa_t WHERE "||"mhaaent = '" ||g_enterprise|| "' AND "||"mhaasite = '"||g_mhaa_m.mhaasite ||"'",'std-00004',0) THEN 
                     LET g_mhaa_m.mhaasite = g_mhaasite_t
                     CALL amhi201_mhaasite_ref()
                     NEXT FIELD CURRENT
                  END IF
                  #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
                  INITIALIZE g_chkparam.* TO NULL

                  #設定g_chkparam.*的參數
                  LET g_chkparam.arg1 = g_mhaa_m.mhaasite
                  LET g_chkparam.arg2 = '2'
                  LET g_chkparam.arg3 = g_site


                  #呼叫檢查存在並帶值的library
                  IF cl_chk_exist("v_ooed004") THEN

                  ELSE
                     #檢查失敗時後續處理
                     let g_mhaa_m.mhaasite = g_mhaa_m_t.mhaasite
                     call amhi201_mhaasite_ref()
                     NEXT FIELD CURRENT
                  END IF
               END IF
            END IF
            call amhi201_mhaasite_ref()
]]>
</point>
  <point name="input.a.page1.mhaa001" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        #此段落由子樣板a05產生
            IF  g_mhaa_m.mhaasite IS NOT NULL AND g_mhaa_d[g_detail_idx].mhaa001 IS NOT NULL THEN 
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND (g_mhaa_m.mhaasite != g_mhaasite_t OR g_mhaa_d[g_detail_idx].mhaa001 != g_mhaa_d_t.mhaa001)) THEN 
                  IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM mhaa_t WHERE "||"mhaaent = '" ||g_enterprise|| "' AND "||"mhaasite = '"||g_mhaa_m.mhaasite ||"' AND "|| "mhaa001 = '"||g_mhaa_d[g_detail_idx].mhaa001 ||"'",'std-00004',0) THEN 
                     let g_mhaa_d[l_ac].mhaa001 = g_mhaa_d_t.mhaa001
                     NEXT FIELD CURRENT
                  END IF
               END IF
            END IF

]]>
</point>
  <point name="input.a.page1.mhaa005" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        IF  g_mhaa_d[l_ac].mhaa005 IS NOT NULL AND g_mhaa_d[l_ac].mhaa002 is not null THEN
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND ( g_mhaa_d[l_ac].mhaa005 != g_mhaa_d_t.mhaa005 or g_mhaa_d_t.mhaa005 is null)) THEN
                  if g_mhaa_d[l_ac].mhaa005<g_mhaa_d[l_ac].mhaa002 then
                     call cl_err(g_mhaa_d[l_ac].mhaa005,"amh-00011",1)
                     let g_mhaa_d[l_ac].mhaa005 = g_mhaa_d_t.mhaa005
                     NEXT FIELD mhaa005
                  END IF
               END IF
            END IF
]]>
</point>
  <point name="input.a.page1.mhaa006" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        IF  g_mhaa_d[l_ac].mhaa006 IS NOT NULL AND g_mhaa_d[l_ac].mhaa003 is not null THEN
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND ( g_mhaa_d[l_ac].mhaa006 != g_mhaa_d_t.mhaa006 or g_mhaa_d_t.mhaa006 is null)) THEN
                  if g_mhaa_d[l_ac].mhaa006<g_mhaa_d[l_ac].mhaa003 then
                     call cl_err(g_mhaa_d[l_ac].mhaa006,"amh-00012",1)
                     let g_mhaa_d[l_ac].mhaa006 = g_mhaa_d_t.mhaa006
                     NEXT FIELD mhaa006
                  END IF
               END IF
            END IF 
]]>
</point>
  <point name="input.a.page1.mhaastus" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        IF  g_mhaa_d[l_ac].mhaastus IS NOT NULL THEN 
               IF l_cmd='a' or  ( l_cmd = 'u' AND (g_mhaa_d[l_ac].mhaastus != g_mhaa_d_t.mhaastus OR g_mhaa_d_t.mhaastus IS NULL )) THEN 
                  IF l_cmd<>'a' THEN
                  CALL amhi201_chk_mhaastus()
                  RETURNING g_success,g_errno
                  IF g_success THEN
                     LET g_i = TRUE
                  ELSE
                     LET g_i = FALSE
                     LET g_mhaa_d[l_ac].mhaastus = g_mhaa_d_t.mhaastus
                     NEXT FIELD mhaastus                      
                  END IF
                  END IF
               END IF
            END IF]]>
</point>
  <point name="input.a.page1.mhaaunit" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        LET g_mhaa_d[l_ac].mhaaunit_desc = null
            DISPLAY g_mhaa_d[l_ac].mhaaunit_desc to s_detail1[l_ac].mhaaunit_desc
            IF  NOT cl_null(g_mhaa_d[l_ac].mhaaunit) THEN 
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND (g_mhaa_d[l_ac].mhaaunit != g_mhaa_d_t.mhaaunit or g_mhaa_d_t.mhaaunit is null )) THEN                   
                  #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
                  INITIALIZE g_chkparam.* TO NULL

                  #設定g_chkparam.*的參數
                  LET g_chkparam.arg1 = g_mhaa_d[l_ac].mhaaunit
                  LET g_chkparam.arg2 = '2'
                  LET g_chkparam.arg3 = g_site


                  #呼叫檢查存在並帶值的library
                  IF cl_chk_exist("v_ooed004") THEN

                  ELSE
                     #檢查失敗時後續處理
                     let g_mhaa_d[l_ac].mhaaunit = g_mhaa_d_t.mhaaunit
                     call amhi201_mhaaunit_ref()
                     NEXT FIELD CURRENT
                  END IF
               END IF
            END IF
            call amhi201_mhaaunit_ref() 
]]>
</point>
  <point name="input.a.page2.mhaa001_2" cite_std="N" status="" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            #此段落由子樣板a05產生
            IF  g_mhaa_m.mhaasite IS NOT NULL AND g_mhaa2_d[g_detail_idx].mhaa001 IS NOT NULL THEN 
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND (g_mhaa_m.mhaasite != g_mhaasite_t OR g_mhaa2_d[g_detail_idx].mhaa001 != g_mhaa2_d_t.mhaa001)) THEN 
                  IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM mhaa_t WHERE "||"mhaaent = '" ||g_enterprise|| "' AND "||"mhaasite = '"||g_mhaa_m.mhaasite ||"' AND "|| "mhaa001 = '"||g_mhaa2_d[g_detail_idx].mhaa001 ||"'",'std-00004',0) THEN 
                     NEXT FIELD CURRENT
                  END IF
               END IF
            END IF

]]>
</point>
  <point name="input.body.b_delete" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                              select count(*) into l_cnt1 from mhab_t where mhabent = g_enterprise and mhab001 = g_mhaa_d_t.mhaa001
               if l_cnt1 >0 then
                  call cl_err("mhaa_t","amh-00015",1)
                  CANCEL DELETE
               end if
               select count(*) into l_cnt1 from mhac_t where mhacent = g_enterprise and mhac001 = g_mhaa_d_t.mhaa001
               if l_cnt1 >0 then
                  call cl_err("mhaa_t","amh-00015",1)
                  CANCEL DELETE
               end if
               select count(*) into l_cnt1 from mhad_t where mhadent = g_enterprise and mhad001 = g_mhaa_d_t.mhaa001

               if l_cnt1 >0 then
                  call cl_err("mhaa_t","amh-00015",1)
                  CANCEL DELETE
               end if]]>
</point>
  <point name="input.body.b_update" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                              IF g_mhaa_d[l_ac].mhaastus <> g_mhaa_d_t.mhaastus AND g_mhaa_d_t.mhaastus='Y' AND g_i=true THEN
                  UPDATE mhad_t SET mhadstus = g_mhaa_d[l_ac].mhaastus
                   WHERE mhadent = g_enterprise AND mhad001=g_mhaa_d_t.mhaa001 
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhaa_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  UPDATE mhac_t SET mhacstus = g_mhaa_d[l_ac].mhaastus
                   WHERE mhacent = g_enterprise AND mhac001=g_mhaa_d_t.mhaa001
                     AND mhacsite = g_mhaa_m.mhaasite
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhac_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  UPDATE mhab_t SET mhabstus = g_mhaa_d[l_ac].mhaastus
                   WHERE mhabent = g_enterprise AND mhab001=g_mhaa_d_t.mhaa001
                     AND mhabsite = g_mhaa_m.mhaasite
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhab_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  select sum(mhad005),sum(mhad006),sum(mhad007) 
                    into g_mhad005,g_mhad006,g_mhad007
                    from mhad_t
                   where mhadent = g_enterprise AND mhad001=g_mhab_m.mhab001
                     and mhadstus='Y' and mhadsite = g_mhab_m.mhabsite 
                  update mhaa_t set mhaa002=g_mhad005,mhaa003 = g_mhad006,mhaa004 = g_mhad007
                   where mhaaent = g_enterprise AND mhaa001=g_mhaa_d_t.mhaa001
                     and mhaasite = g_mhaa_m.mhaasite                 
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhaa_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  UPDATE mhac_t SET mhac004 = null,mhac005 = null,mhac006 = null
                   WHERE mhacent = g_enterprise AND mhac001=g_mhaa_d_t.mhaa001
                     and mhacsite = g_mhaa_m.mhaasite
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhac_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  UPDATE mhab_t SET mhab003 = null,mhab004 = null,mhab005 = null
                   WHERE mhabent = g_enterprise AND mhab001=g_mhaa_d_t.mhaa001
                      and mhabsite = g_mhaa_m.mhaasite
                  IF SQLCA.sqlcode THEN
                     CALL cl_err("mhab_t",SQLCA.sqlcode,1)
                     CALL s_transaction_end('N','0')
                     RETURN
                  END IF
                  SELECT count(*) INTO l_cnt FROM mhad_t
                   WHERE mhadent = g_enterprise AND mhad001=g_mhaa_d_t.mhaa001
                  IF l_cnt>0 THEN
                     CALL amhi201_update_ooef() RETURNING l_success
                     IF l_success=false THEN
                        CALL s_transaction_end('N','0')
                        RETURN
                     END IF
                  END IF
               END IF  
               select sum(mhad005),sum(mhad006),sum(mhad007) 
                 into g_mhaa_d[l_ac].mhaa002,g_mhaa_d[l_ac].mhaa003,g_mhaa_d[l_ac].mhaa004
                 from mhad_t
                where mhadent = g_enterprise AND mhad001=g_mhaa_d_t.mhaa001
                  and mhadstus='Y' and mhadsite = g_mhaa_m.mhaasite
               IF SQLCA.sqlcode THEN
                  CALL cl_err("mhab_t",SQLCA.sqlcode,1)
                  CALL s_transaction_end('N','0')
                  RETURN
               END IF]]>
</point>
  <point name="input.body.before_insert" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        let g_mhaa_d[l_ac].mhaaunit = g_site
            call amhi201_mhaaunit_ref()]]>
</point>
  <point name="input.c.mhaasite" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            #此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_mhaa_m.mhaasite             #給予default值

            #給予arg
            LET g_qryparam.arg1 = g_site #
            LET g_qryparam.arg2 = "2" #

            CALL q_ooed004()                                #呼叫開窗

            LET g_mhaa_m.mhaasite = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_mhaa_m.mhaasite TO mhaasite              #顯示到畫面上
            call amhi201_mhaasite_ref()
            NEXT FIELD mhaasite                          #返回原欄位

]]>
</point>
  <point name="input.c.page1.mhaaunit" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            #此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_mhaa_d[l_ac].mhaaunit             #給予default值

            #給予arg
            LET g_qryparam.arg1 = g_site #
            LET g_qryparam.arg2 = "2" #

            CALL q_ooed004()                                #呼叫開窗

            LET g_mhaa_d[l_ac].mhaaunit = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_mhaa_d[l_ac].mhaaunit TO mhaaunit              #顯示到畫面上
            call amhi201_mhaaunit_ref() 
            NEXT FIELD mhaaunit                          #返回原欄位

]]>
</point>
  <point name="input.define" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[      define  l_cnt1                like type_t.num5
   define  l_success             like type_t.num5      ]]>
</point>
  <point name="input.detail_input.page1.update_item" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        LET g_action_choice="update_item"
            IF cl_auth_chk_act("update_item") THEN
               #add-point:ON ACTION update_item
               IF NOT cl_null(g_mhaa_d[l_ac].mhaa001)  THEN
                  CALL n_mhaal(g_mhaa_d[l_ac].mhaa001)
                  INITIALIZE g_ref_fields TO NULL
                  LET g_ref_fields[1] = g_mhaa_d[l_ac].mhaa001

                  CALL ap_ref_array2(g_ref_fields," SELECT mhaal003,mhaal004 FROM mhaal_t WHERE mhaalent = '"
                      ||g_enterprise||"' AND mhaal001 = ?  AND mhaal002 = '"||g_dlang||"'","") RETURNING g_rtn_fields
                  LET g_mhaa_d[l_ac].mhaal003 = g_rtn_fields[1]
                  LET g_mhaa_d[l_ac].mhaal004 = g_rtn_fields[2]

                  DISPLAY BY NAME g_mhaa_d[l_ac].mhaal003
                  DISPLAY BY NAME g_mhaa_d[l_ac].mhaal004
               END IF
            END IF]]>
</point>
  <point name="input.head.b_input" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                        CALL amhi201_set_entry(p_cmd)
            CALL amhi201_set_no_entry(p_cmd)]]>
</point>
  <point name="insert.default" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            let g_mhaa_m.mhaasite = g_site
      call amhi201_mhaasite_ref()
      let g_mhaa_m_t.* = g_mhaa_m.*]]>
</point>
  <point name="ref_show.body.reference" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[                  INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa_d[l_ac].mhaaunit
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_mhaa_d[l_ac].mhaaunit_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa_d[l_ac].mhaaunit_desc

   INITIALIZE g_ref_fields TO NULL 
   LET g_ref_fields[1] = g_mhaa_d[l_ac].mhaa001
   CALL ap_ref_array2(g_ref_fields," SELECT mhaal003 FROM mhaal_t WHERE mhaalent = '"||g_enterprise||"' AND mhaal001 = ? AND mhaal002 = '"||g_dlang||"'","") RETURNING g_rtn_fields 
   LET g_mhaa_d[l_ac].mhaal003 = g_rtn_fields[1] 
   DISPLAY BY NAME g_mhaa_d[l_ac].mhaal003
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_mhaa_d[l_ac].mhaa001
   CALL ap_ref_array2(g_ref_fields," SELECT mhaal004 FROM mhaal_t WHERE mhaalent = '"||g_enterprise||"' AND mhaal001 = ? AND mhaal002 = '"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_mhaa_d[l_ac].mhaal004 = g_rtn_fields[1]
   DISPLAY BY NAME g_mhaa_d[l_ac].mhaal004]]>
</point>
  <point name="ref_show.body2.reference" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa2_d[l_ac].mhaaownid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_mhaa2_d[l_ac].mhaaownid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa2_d[l_ac].mhaaownid_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa2_d[l_ac].mhaaowndp
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_mhaa2_d[l_ac].mhaaowndp_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa2_d[l_ac].mhaaowndp_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa2_d[l_ac].mhaacrtid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_mhaa2_d[l_ac].mhaacrtid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa2_d[l_ac].mhaacrtid_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa2_d[l_ac].mhaacrtdp
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_mhaa2_d[l_ac].mhaacrtdp_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa2_d[l_ac].mhaacrtdp_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa2_d[l_ac].mhaamodid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_mhaa2_d[l_ac].mhaamodid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa2_d[l_ac].mhaamodid_desc]]>
</point>
  <point name="ref_show.head.reference" cite_std="N" status="u" ver="1" src="s" new="N" order="" cite_ver="" mark_hard="N">
<![CDATA[               INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_mhaa_m.mhaasite
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_mhaa_m.mhaasite_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_mhaa_m.mhaasite_desc
]]>
</point>
  <point name="global.memo" cite_std="N" status="" ver="" src="" new="Y" order="">
<![CDATA[]]>
</point>
  <point name="global.import" cite_std="N" status="" ver="" src="" new="Y" order="">
<![CDATA[]]>
</point>
  <point name="global.argv" cite_std="N" status="" ver="" src="" new="Y" order="">
<![CDATA[]]>
</point>
  <point name="main.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="main.init" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="main.define_sql" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="main.after_define_sql" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="main.servicecall" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="main.before_close" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="main.exit" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="init.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="init.init" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_dialog.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_dialog.before_dialog" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_dialog.body.before_row" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="ui_dialog.page1.action" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="ui_dialog.body2.before_row" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="ui_dialog.body2.action" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="ui_dialog.more_displayarray" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="ui_dialog.before_dialog2" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="menu.delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="menu.insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="menu.modify" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="menu.modify_detail" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="menu.output" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="menu.query" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="browser_search.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="browser_fill.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="browser_fill.before_browser_fill" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="browser_fill.before_count" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="browser_fill.reference" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="ui_headershow.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_detailshow.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_detailshow.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_detailshow.more" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="ui_detailshow.after" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ui_browser_refresh.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="cs.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="cs.head.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="cs.head.before_construct" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.mhaasite" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.mhaasite" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="cs.body.before_construct" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaaunit" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaaunit" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa001" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa001" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.b.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.a.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="construct.c.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="cs.more_construct" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="cs.before_dialog" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="cs.after_construct" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="filter.add_cs" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="filter.b_dialog" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="query.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="query.befroe_query" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="fetch.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="fetch.before_fetch" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="insert.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="insert.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="insert.after_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="insert.after_insert2" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="modify.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="modify.before_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="modify.after_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="modify.b_key_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="modify.m_key_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="modify.a_key_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="input.define_sql" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="input.after_define_sql" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="input.after_set_entry" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="input.after_set_no_entry" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="input.before_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="input.b.mhaasite" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.mhaasite" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.head.b_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.head.m_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.head.a_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[                     ]]>
</point>
  <point name="input.head.a_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.before_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body.before_row" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body.b_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.m_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.a_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.after_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body.a_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body.after_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaaunit" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaaunit" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa001" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa001" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.a.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.a.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.a.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.a.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.b.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.a.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.g.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaastus" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa001" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaal003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaal004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa005" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa006" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa002" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa003" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.c.page1.mhaa004" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body.m_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.a_update" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[               ]]>
</point>
  <point name="input.body.after_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[            ]]>
</point>
  <point name="input.body2.action" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="input.more_inputarray" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="input.before_dialog" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="input.after_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="show.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="show.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="show.after" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="ref_show.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="reproduce.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="reproduce.head.b_input" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="reproduce.after_reproduce" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.body.table1.b_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.body.table1.m_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.body.table1.a_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.body.lang0.b_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.lang0.table1.m_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="detail_reproduce.lang0.table1.a_insert" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="delete.body.m_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="delete.body.a_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="b_fill.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="b_fill.sql_before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="b_fill.sql_after" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="bfill.foreach" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[         ]]>
</point>
  <point name="b_fill.more" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="b_fill2.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="b_fill2.after_fill" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="before_delete.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="delete.body.b_single_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="delete.body.m_single_delete" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="delete_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="insert_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="update_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="lock_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="unlock_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_entry.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_entry.field_control" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="set_entry.after_control" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_no_entry.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_no_entry.field_control" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="set_no_entry.after_control" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_entry_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_entry_b.set_entry_b" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_no_entry_b.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="set_no_entry_b.set_no_entry_b段" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="default_search.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="default_search.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="default_search.after" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="fill_chk.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="fill_chk.other" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="modify_detail_chk.define" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="modify_detail_chk.before" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="modify_detail_chk.page_control" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[      ]]>
</point>
  <point name="modify_detail_chk.after" cite_std="N" status="u" ver="" src="" new="Y" order="">
<![CDATA[   ]]>
</point>
  <point name="function.amhi201_update_ooef" cite_std="N" status="u" ver="" src="" new="Y" order="4">
<![CDATA[#update ooef111,ooef112,ooef113
PRIVATE FUNCTION amhi201_update_ooef()
DEFINE l_mhad005   LIKE ooef_t.ooef111
DEFINE l_mhad006   LIKE ooef_t.ooef112
DEFINE l_mhad007   LIKE ooef_t.ooef113
DEFINE l_success   LIKE type_t.num5

   LET l_success=true

   SELECT sum(mhad005),sum(mhad006),sum(mhad007)
     INTO l_mhad005,l_mhad006,l_mhad007
     FROM mhad_t
    WHERE mhadsite=g_mhaa_m.mhaasite AND mhadstus='Y'
   UPDATE ooef_t SET ooef111=l_mhad005,
                     ooef112=l_mhad006,
                     ooef113=l_mhad007
    WHERE ooefent=g_enterprise AND ooef001=g_mhaa_m.mhaasite
   IF SQLCA.sqlcode THEN
      CALL cl_err("mhaa_t",SQLCA.sqlcode,1)
      LET l_success=false 
      RETURN l_success 
   END IF
   RETURN l_success
END FUNCTION]]>
</point>
</add_points>