<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<add_points prog="artt412" std_prog="artt412" erpver="1.0" module="ART" ver="1" env="s" zone="t10dev" booking="Y">
  <point name="construct.c.page1.imaa009" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtax001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO imaa009  #顯示到畫面上

            NEXT FIELD imaa009                     #返回原欄位

]]>
  </point>
  <point name="construct.c.page1.imaa105" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooca001_1()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO imaa105  #顯示到畫面上

            NEXT FIELD imaa105                     #返回原欄位

]]>
  </point>
  <point name="construct.c.page1.rtee001" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtdx001_2()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtee001  #顯示到畫面上

            NEXT FIELD rtee001                     #返回原欄位

]]>
  </point>
  <point name="construct.c.page1.rtee002" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtdx002()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtee002  #顯示到畫面上

            NEXT FIELD rtee002                     #返回原欄位

]]>
  </point>
  <point name="construct.c.page1.rtee014" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_oocq002()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtee014  #顯示到畫面上

            NEXT FIELD rtee014                     #返回原欄位

]]>
  </point>
  <point name="construct.c.page1.rteeunit" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooef001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rteeunit  #顯示到畫面上

            NEXT FIELD rteeunit                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rted001" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtebdocno()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rted001  #顯示到畫面上

            NEXT FIELD rted001                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rted002" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtea001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rted002  #顯示到畫面上

            NEXT FIELD rted002                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rted003" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rtea002()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rted003  #顯示到畫面上

            NEXT FIELD rted003                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rted007" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooag001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rted007  #顯示到畫面上

            NEXT FIELD rted007                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedcnfid" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooag001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedcnfid  #顯示到畫面上

            NEXT FIELD rtedcnfid                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedcrtdp" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooea001_1()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedcrtdp  #顯示到畫面上

            NEXT FIELD rtedcrtdp                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedcrtid" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooag001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedcrtid  #顯示到畫面上

            NEXT FIELD rtedcrtid                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rteddocno" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_rteddocno()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rteddocno  #顯示到畫面上

            NEXT FIELD rteddocno                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedmodid" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooag001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedmodid  #顯示到畫面上

            NEXT FIELD rtedmodid                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedowndp" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooea001_1()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedowndp  #顯示到畫面上

            NEXT FIELD rtedowndp                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedownid" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooag001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedownid  #顯示到畫面上

            NEXT FIELD rtedownid                     #返回原欄位

]]>
  </point>
  <point name="construct.c.rtedunit" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a08產生
            #開窗c段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'c'
			LET g_qryparam.reqry = FALSE
            CALL q_ooef001()                           #呼叫開窗
            DISPLAY g_qryparam.return1 TO rtedunit  #顯示到畫面上

            NEXT FIELD rtedunit                     #返回原欄位

]]>
  </point>
  <point name="input.a.page1.imaa009" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].imaa009
            CALL ap_ref_array2(g_ref_fields,"SELECT rtaxl003 FROM rtaxl_t WHERE rtaxlent='"||g_enterprise||"' AND rtaxl001=? AND rtaxl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].imaa009_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].imaa009_desc
]]>
  </point>
  <point name="input.a.page1.imaa105" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].imaa105
            CALL ap_ref_array2(g_ref_fields,"SELECT oocal003 FROM oocal_t WHERE oocalent='"||g_enterprise||"' AND oocal001=? AND oocal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].imaa105_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].imaa105_desc
]]>
  </point>
  <point name="input.a.page1.rtee001" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee001) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rtee_d[l_ac].rtee001
               LET g_chkparam.arg2 = g_rted_m.rtedunit

                  
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist("v_rtdx001_1") THEN
                  #檢查成功時後續處理
                  #LET  = g_chkparam.return1
                  #DISPLAY BY NAME 

               ELSE
                  #檢查失敗時後續處理
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].rtee001
            CALL ap_ref_array2(g_ref_fields,"SELECT imaal003 FROM imaal_t WHERE imaalent='"||g_enterprise||"' AND imaal001=? AND imaal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].rtee001_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].rtee001_desc
]]>
  </point>
  <point name="input.a.page1.rtee002" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee002) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rtee_d[l_ac].rtee002
               LET g_chkparam.arg2 = g_site

                  
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist("v_rtdx002") THEN
                  #檢查成功時後續處理
                  #LET  = g_chkparam.return1
                  #DISPLAY BY NAME 

               ELSE
                  #檢查失敗時後續處理
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
]]>
  </point>
  <point name="input.a.page1.rtee007" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee007) THEN 
            END IF 
]]>
  </point>
  <point name="input.a.page1.rtee012" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee012) THEN 
            END IF 
]]>
  </point>
  <point name="input.a.page1.rtee014" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            LET g_rtee_d[l_ac].rtee014_desc = null
            DISPLAY BY NAME g_rtee_d[l_ac].rtee014_desc
            IF NOT cl_null(g_rtee_d[l_ac].rtee014) THEN 
               IF p_cmd = 'a' OR ( p_cmd = 'u' AND (g_rtee_d[l_ac].rtee014 != g_rtee_d_t.rtee014 OR g_rtee_d_t.rtee014 IS NULL )) THEN
                  #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
                  INITIALIZE g_chkparam.* TO NULL
               
                  #設定g_chkparam.*的參數
                  LET g_chkparam.arg1 = g_rtee_d[l_ac].rtee014
  
                  #呼叫檢查存在並帶值的library
                  IF cl_chk_exist("v_oocq002_2075") THEN
                     #檢查成功時後續處理

                  ELSE
                     #檢查失敗時後續處理
                     LET g_rtee_d[l_ac].rtee014 = g_rtee_d_t.rtee014
                     CALL artt412_rtee014_ref()
                     NEXT FIELD CURRENT
                  END IF
               END IF

            END IF 
            CALL artt412_rtee014_ref()
]]>
  </point>
  <point name="input.a.page1.rteeseq" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rteeseq) THEN 
            END IF 

            #此段落由子樣板a05產生
            IF  g_rted_m.rteddocno IS NOT NULL AND g_rtee_d[g_detail_idx].rteeseq IS NOT NULL THEN 
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND (g_rted_m.rteddocno != g_rteddocno_t OR g_rtee_d[g_detail_idx].rteeseq != g_rtee_d_t.rteeseq)) THEN 
                  IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM rtee_t WHERE "||"rteeent = '" ||g_enterprise|| "' AND "||"rteedocno = '"||g_rted_m.rteddocno ||"' AND "|| "rteeseq = '"||g_rtee_d[g_detail_idx].rteeseq ||"'",'std-00004',0) THEN 
                     NEXT FIELD CURRENT
                  END IF
               END IF
            END IF

]]>
  </point>
  <point name="input.a.page1.rteesite" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].rteesite
            CALL ap_ref_array2(g_ref_fields,"SELECT ooeal003 FROM ooeal_t WHERE ooealent='"||g_enterprise||"' AND ooeal001=? AND ooeal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].rteesite_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].rteesite_desc
]]>
  </point>
  <point name="input.a.page1.rteeunit" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rteeunit) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rtee_d[l_ac].rteeunit

                  
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist_and_ref_val("v_ooef001") THEN
                  #檢查成功時後續處理
                  #LET  = g_chkparam.return1
                  #DISPLAY BY NAME 

               ELSE
                  #檢查失敗時後續處理
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
]]>
  </point>
  <point name="input.a.rted002" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rted002
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rted002_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rted002_desc
]]>
  </point>
  <point name="input.a.rted003" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rted_m.rted003) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rted_m.rted003
               LET g_chkparam.arg2 = '參數2'

                  
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist("v_rtea002") THEN
                  #檢查成功時後續處理
                  #LET  = g_chkparam.return1
                  #DISPLAY BY NAME 

               ELSE
                  #檢查失敗時後續處理
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rted002
            LET g_ref_fields[2] = g_rted_m.rted003
            CALL ap_ref_array2(g_ref_fields,"SELECT rtea003 FROM rtea_t WHERE rteaent='"||g_enterprise||"' AND rtea001=? AND rtea002=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rted003_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rted003_desc
]]>
  </point>
  <point name="input.a.rted007" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            LET g_rted_m.rted007_desc = null
            DISPLAY BY NAME g_rted_m.rted007_desc
            IF NOT cl_null(g_rted_m.rted007) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rted_m.rted007
   
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist("v_ooag001") THEN
                  #檢查成功時後續處理

               ELSE
                  #檢查失敗時後續處理
                  LET g_rted_m.rted007 = g_rted_m_t.rted007
                  CALL artt412_rted007_ref()
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
            CALL artt412_rted007_ref()
]]>
  </point>
  <point name="input.a.rteddocno" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            #此段落由子樣板a05產生
            IF  NOT cl_null(g_rted_m.rteddocno) THEN 
               IF p_cmd = 'a' OR ( p_cmd = 'u' AND (g_rted_m.rteddocno != g_rteddocno_t )) THEN 
                  IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM rted_t WHERE "||"rtedent = '" ||g_enterprise|| "' AND "||"rteddocno = '"||g_rted_m.rteddocno ||"'",'std-00004',0) THEN 
                     LET g_rted_m.rteddocno = g_rted_m_t.rteddocno
                     NEXT FIELD CURRENT
                  END IF
                  CALL artt412_chk_rteddocno()
                  IF NOT cl_null(g_errno) THEN
                     CALL cl_err(g_rted_m.rteddocno,g_errno,1)
                     LET g_rted_m.rteddocno = g_rted_m_t.rteddocno
                     NEXT FIELD rteddocno
                  END IF
#                  CALL s_aooi200_gen_docno(g_rted_m.rtedsite,g_rted_m.rteddocno,g_rted_m.rteddocdt)
#                     RETURNING  g_success,g_rted_m.rteddocno
#                  IF g_success<>'1' THEN
#                     call cl_err(g_rted_m.rteddocno,"amm-00001",1)
#                     NEXT FIELD rteddocno
#                  ELSE
#                     IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM rted_t WHERE "||"rtedent = '" ||g_enterprise|| "' AND "||"rteddocno = '"||g_rted_m.rteddocno ||"'",'std-00004',1) THEN
#                        let g_rted_m.rteddocno = g_rteddocno_t
#                        NEXT FIELD rted001
#                     END IF
#
#                  END IF
#                  LET g_rted_m_t.rteddocno = g_rted_m.rteddocno
#                  LET g_flag = TRUE
                     
               END IF
            END IF
            CALL artt412_set_entry(p_cmd)
            CALL artt412_set_no_entry(p_cmd)

]]>
  </point>
  <point name="input.a.rtedunit" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rted_m.rtedunit) THEN 
#此段落由子樣板a19產生
               #設定g_chkparam.*的參數前，先將其初始化，避免之前設定遺留的參數值造成影響。
               INITIALIZE g_chkparam.* TO NULL
               
               #設定g_chkparam.*的參數
               LET g_chkparam.arg1 = g_rted_m.rtedunit

                  
               #呼叫檢查存在並帶值的library
               IF cl_chk_exist("v_ooef001") THEN
                  #檢查成功時後續處理
                  #LET  = g_chkparam.return1
                  #DISPLAY BY NAME 

               ELSE
                  #檢查失敗時後續處理
                  NEXT FIELD CURRENT
               END IF
            

            END IF 
            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedunit
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rtedunit_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedunit_desc
]]>
  </point>
  <point name="input.c.page1.imaa009" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].imaa009             #給予default值

            #給予arg

            CALL q_rtax001()                                #呼叫開窗

            LET g_rtee_d[l_ac].imaa009 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].imaa009 TO imaa009              #顯示到畫面上

            NEXT FIELD imaa009                          #返回原欄位

]]>
  </point>
  <point name="input.c.page1.imaa105" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].imaa105             #給予default值

            #給予arg

            CALL q_ooca001_1()                                #呼叫開窗

            LET g_rtee_d[l_ac].imaa105 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].imaa105 TO imaa105              #顯示到畫面上

            NEXT FIELD imaa105                          #返回原欄位

]]>
  </point>
  <point name="input.c.page1.rtee001" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].rtee001             #給予default值

            #給予arg
            LET g_qryparam.arg1 = g_rted_m.rtedsite #

            CALL q_rtdx001_3()                                #呼叫開窗

            LET g_rtee_d[l_ac].rtee001 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].rtee001 TO rtee001              #顯示到畫面上

            NEXT FIELD rtee001                          #返回原欄位

]]>
  </point>
  <point name="input.c.page1.rtee002" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].rtee002             #給予default值

            #給予arg
            LET g_qryparam.arg1 = g_rted_m.rtedsite #

            CALL q_rtdx002()                                #呼叫開窗

            LET g_rtee_d[l_ac].rtee002 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].rtee002 TO rtee002              #顯示到畫面上

            NEXT FIELD rtee002                          #返回原欄位

]]>
  </point>
  <point name="input.c.page1.rtee014" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].rtee014             #給予default值

            #給予arg
            LET g_qryparam.arg1 = "2075" #

            CALL q_oocq002()                                #呼叫開窗

            LET g_rtee_d[l_ac].rtee014 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].rtee014 TO rtee014              #顯示到畫面上
            CALL artt412_rtee014_ref()
            NEXT FIELD rtee014                          #返回原欄位

]]>
  </point>
  <point name="input.c.page1.rteeunit" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rtee_d[l_ac].rteeunit             #給予default值

            #給予arg

            CALL q_ooef001()                                #呼叫開窗

            LET g_rtee_d[l_ac].rteeunit = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rtee_d[l_ac].rteeunit TO rteeunit              #顯示到畫面上

            NEXT FIELD rteeunit                          #返回原欄位

]]>
  </point>
  <point name="input.c.rted001" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rted001             #給予default值

            #給予arg

            CALL q_rtebdocno()                                #呼叫開窗

            LET g_rted_m.rted001 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rted001 TO rted001              #顯示到畫面上

            NEXT FIELD rted001                          #返回原欄位

]]>
  </point>
  <point name="input.c.rted002" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rted002             #給予default值

            #給予arg

            CALL q_rtea001()                                #呼叫開窗

            LET g_rted_m.rted002 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rted002 TO rted002              #顯示到畫面上

            NEXT FIELD rted002                          #返回原欄位

]]>
  </point>
  <point name="input.c.rted003" order="0" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rted003             #給予default值

            #給予arg

            CALL q_rtea002()                                #呼叫開窗

            LET g_rted_m.rted003 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rted003 TO rted003              #顯示到畫面上

            NEXT FIELD rted003                          #返回原欄位

]]>
  </point>
  <point name="input.c.rted007" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rted007             #給予default值

            #給予arg

            CALL q_ooag001()                                #呼叫開窗

            LET g_rted_m.rted007 = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rted007 TO rted007              #顯示到畫面上
            call artt412_rted007_ref() 
            NEXT FIELD rted007                          #返回原欄位

]]>
  </point>
  <point name="input.c.rteddocno" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rteddocno             #給予default值

            #給予arg
            LET g_qryparam.arg1 = g_ooef004 #
            LET g_qryparam.arg2 = "artt412"#

            CALL q_ooba002_1()                                #呼叫開窗

            LET g_rted_m.rteddocno = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rteddocno TO rteddocno              #顯示到畫面上

            NEXT FIELD rteddocno                          #返回原欄位

]]>
  </point>
  <point name="input.c.rtedunit" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#此段落由子樣板a07產生            
            #開窗i段
			INITIALIZE g_qryparam.* TO NULL
            LET g_qryparam.state = 'i'
			LET g_qryparam.reqry = FALSE

            LET g_qryparam.default1 = g_rted_m.rtedunit             #給予default值

            #給予arg

            CALL q_ooef001()                                #呼叫開窗

            LET g_rted_m.rtedunit = g_qryparam.return1              #將開窗取得的值回傳到變數

            DISPLAY g_rted_m.rtedunit TO rtedunit              #顯示到畫面上
       
            NEXT FIELD rtedunit                          #返回原欄位

]]>
  </point>
  <point name="show.body.reference" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            CALL artt412_rtee001_ref()

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].rtee014
            CALL ap_ref_array2(g_ref_fields,"SELECT oocql004 FROM oocql_t WHERE oocqlent='"||g_enterprise||"' AND oocql001='2075' AND oocql002=? AND oocql003='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].rtee014_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].rtee014_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rtee_d[l_ac].rteesite
            CALL ap_ref_array2(g_ref_fields,"SELECT ooeal003 FROM ooeal_t WHERE ooealent='"||g_enterprise||"' AND ooeal001=? AND ooeal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rtee_d[l_ac].rteesite_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rtee_d[l_ac].rteesite_desc
]]>
  </point>
  <point name="show.head.reference" order="0" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedunit
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rtedunit_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedunit_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rted002
            CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rted002_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rted002_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rted002
            LET g_ref_fields[2] = g_rted_m.rted003
            CALL ap_ref_array2(g_ref_fields,"SELECT rtea003 FROM rtea_t WHERE rteaent='"||g_enterprise||"' AND rtea001=? AND rtea002=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rted003_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rted003_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rted007
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rted007_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rted007_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedownid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rtedownid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedownid_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedowndp
            CALL ap_ref_array2(g_ref_fields,"SELECT ooeal003 FROM ooeal_t WHERE ooealent='"||g_enterprise||"' AND ooeal001=? AND ooeal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rtedowndp_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedowndp_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedcrtid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rtedcrtid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedcrtid_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedcrtdp
            CALL ap_ref_array2(g_ref_fields,"SELECT ooeal003 FROM ooeal_t WHERE ooealent='"||g_enterprise||"' AND ooeal001=? AND ooeal002='"||g_dlang||"'","") RETURNING g_rtn_fields
            LET g_rted_m.rtedcrtdp_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedcrtdp_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedmodid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rtedmodid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedmodid_desc

            INITIALIZE g_ref_fields TO NULL
            LET g_ref_fields[1] = g_rted_m.rtedcnfid
            CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
            LET g_rted_m.rtedcnfid_desc = '', g_rtn_fields[1] , ''
            DISPLAY BY NAME g_rted_m.rtedcnfid_desc
]]>
  </point>
  <point name="function.artt412_rtedunit_ref" order="1" ver="1" cite_std="" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display rtedunit
PRIVATE FUNCTION artt412_rtedunit_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rtedunit
   CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_rted_m.rtedunit_desc = '', g_rtn_fields[1] , ''
   DISPLAY BY NAME g_rted_m.rtedunit_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_chk_rteddocno" order="2" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#chk rteddocno
PRIVATE FUNCTION artt412_chk_rteddocno()
   DEFINE   l_cnt       LIKE type_t.num5
   DEFINE   l_cnt1      LIKE type_t.num5
   DEFINE   l_stus        LIKE type_t.chr1
   
   LET l_cnt=0
   LET l_cnt1=0
   LET g_errno = null
   

   LET g_errno = ''
   SELECT oobastus INTO l_stus  FROM ooba_t,oobl_t 
    WHERE oobaent = ooblent  AND ooba001 = oobl001
      AND ooba002 = oobl002   AND oobl003 = 'artt412'
      AND oobl001 = g_ooef004 AND oobl002= g_rted_m.rteddocno
      AND ooblent = g_enterprise
      
   CASE WHEN SQLCA.SQLCODE = 100   LET g_errno = 'aim-00056'
        WHEN l_stus='N'            LET g_errno = 'aoo-00102'       
   END CASE

END FUNCTION]]>
  </point>
  <point name="function.artt412_chk_rted001" order="3" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#chk rted001
PRIVATE FUNCTION artt412_chk_rted001()
   DEFINE   l_cnt       LIKE type_t.num5
   DEFINE   l_cnt1      LIKE type_t.num5 
   DEFINE   l_cnt3      LIKE type_t.num5   
   LET l_cnt=0
   LET l_cnt1=0
   LET g_errno = NULL
   SELECT count(*) INTO l_cnt FROM rteb_t WHERE rtebdocno = g_rted_m.rted001
      AND rtebent = g_enterprise
   IF l_cnt<=0 THEN
      LET g_errno = "art-00134"
   ELSE
      SELECT count(*) INTO l_cnt1 FROM rteb_t WHERE rtebdocno = g_rted_m.rted001
         AND rtebent = g_enterprise AND rtebstus = 'Y'
      IF l_cnt1<=0 THEN
         LET g_errno="art-00135"
      END IF      
   END IF
   IF cl_null(g_errno) THEN
      SELECT count(*) INTO l_cnt3 FROM rted_t WHERE rted001 = g_rted_m.rted001
         AND rtedent = g_enterprise AND rtedstus = 'Y' 
      IF l_cnt3 > 0 THEN
         LET g_errno = "art-00136"
      END IF      
   END IF
END FUNCTION]]>
  </point>
  <point name="function.artt412_rted001_ref" order="4" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display rted001
PRIVATE FUNCTION artt412_rted001_ref()
   SELECT rteb001,rteb002,rteb003,rteb004,rteb005
     INTO g_rted_m.rted002,g_rted_m.rted003,g_rted_m.rted004,g_rted_m.rted005,g_rted_m.rted006
     FROM rteb_t
    WHERE rtebdocno = g_rted_m.rted001 AND rtebent = g_enterprise 
   DISPLAY BY NAME  g_rted_m.rted002,g_rted_m.rted003,g_rted_m.rted004,g_rted_m.rted005,g_rted_m.rted006
   CALL artt412_rted002_ref()
   CALL artt412_rted003_ref()
END FUNCTION]]>
  </point>
  <point name="function.artt412_rted001_null" order="5" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#null rted002,rted003等
PRIVATE FUNCTION artt412_rted001_null()
   LET g_rted_m.rted002 = null
   LET g_rted_m.rted003 = null
   LET g_rted_m.rted004 = null
   LET g_rted_m.rted005 = null
   LET g_rted_m.rted006 = null
   LET g_rted_m.rted002_desc = null
   LET g_rted_m.rted003_desc = null
   DISPLAY BY NAME  g_rted_m.rted002,g_rted_m.rted003,g_rted_m.rted004,g_rted_m.rted005,
                    g_rted_m.rted006,g_rted_m.rted002_desc,g_rted_m.rted003_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_rted002_ref" order="6" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display rted002
PRIVATE FUNCTION artt412_rted002_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rted002
   CALL ap_ref_array2(g_ref_fields,"SELECT ooefl003 FROM ooefl_t WHERE ooeflent='"||g_enterprise||"' AND ooefl001=? AND ooefl002='"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_rted_m.rted002_desc = '', g_rtn_fields[1] , ''
   DISPLAY BY NAME g_rted_m.rted002_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_rted003_ref" order="7" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[##display rted003
PRIVATE FUNCTION artt412_rted003_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rted002
   LET g_ref_fields[2] = g_rted_m.rted003
   CALL ap_ref_array2(g_ref_fields,"SELECT rtea003 FROM rtea_t WHERE rteaent='"||g_enterprise||"' AND rtea001=? AND rtea002=? ","") RETURNING g_rtn_fields
   LET g_rted_m.rted003_desc = '', g_rtn_fields[1] , ''
   DISPLAY BY NAME g_rted_m.rted003_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_rted007_ref" order="8" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display rted007
PRIVATE FUNCTION artt412_rted007_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rted007
   CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
   LET g_rted_m.rted007_desc = '', g_rtn_fields[1] , ''
   DISPLAY BY NAME g_rted_m.rted007_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_insert_rtee" order="9" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#insert rtee_t
PRIVATE FUNCTION artt412_insert_rtee()
   DEFINE l_cnt  LIKE type_t.num5
   DEFINE l_rtec001  LIKE rtec_t.rtec001
   DEFINE l_rtec002  LIKE rtec_t.rtec002
   DEFINE l_success   LIKE type_t.num5
   DEFINE l_sql      STRING
   DEFINE l_rtee004  LIKE rtee_t.rtee004
   DEFINE l_rtee005  LIKE rtee_t.rtee005
   DEFINE l_rtee006  LIKE rtee_t.rtee006
   DEFINE l_rtee010  LIKE rtee_t.rtee010
   DEFINE l_rtee007  LIKE rtee_t.rtee007
   
   LET l_success = TRUE
   LET l_cnt = 1 
   LET l_rtec001 = NULL
   LET l_rtec002 = NULL
   let l_rtee007 = 0
   let l_rtee010 = 'N'
   LET l_sql = " SELECT rtec001,rtec002 FROM rtec_t WHERE rtecdocno = '",g_rted_m.rted001,"'",
               "    AND rtecent=",g_enterprise
   PREPARE l_sql_rtec_pre FROM l_sql
   DECLARE l_sql_rtee_cs CURSOR WITH HOLD FOR l_sql_rtec_pre
   FOREACH l_sql_rtee_cs INTO l_rtec001,l_rtec002
      IF SQLCA.sqlcode THEN
         CALL cl_err("g_rted_m",SQLCA.sqlcode,1)
         LET l_success = FALSE
         RETURN l_success
      END IF
      SELECT rtdx016,rtdx034 INTO l_rtee005,l_rtee004 FROM rtdx_t WHERE rtdxent=g_enterprise
         AND rtdx001 = l_rtec001
      IF cl_null(l_rtee005) THEN
         LET l_rtee005 = 0
      END IF      
      IF cl_null(l_rtee004) THEN
         LET l_rtee004 = 0
      END IF
      if l_rtee005 > l_rtee007 then
         let l_rtee010 = 'Y'
      end if
      LET l_rtee006 = (l_rtee005-l_rtee004)/l_rtee005*100
      INSERT INTO rtee_t(rteeent,rteedocno,rteeseq,rtee001,rtee002,rteesite,rteeunit,
                         rtee004,rtee005,rtee006,rtee007,rtee008,rtee010,rtee011,rtee012)
       values(g_enterprise,g_rted_m.rteddocno,l_cnt,l_rtec001,l_rtec002,g_site,g_site,
                         l_rtee004,l_rtee005,l_rtee006,l_rtee007,'N',l_rtee010,'N',0)
      IF SQLCA.sqlcode THEN
         CALL cl_err("g_rted_m",SQLCA.sqlcode,1)
         LET l_success = FALSE
         RETURN l_success
      END IF
      LET l_rtec001 = NULL
      LET l_rtec002 = NULL 
      LET l_cnt = l_cnt+1      
   END FOREACH 
   RETURN l_success
END FUNCTION]]>
  </point>
  <point name="function.artt412_rtee001_ref" order="10" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display 规格，品类
PRIVATE FUNCTION artt412_rtee001_ref()
   SELECT imaal003,imaal004 INTO g_rtee_d[l_ac].rtee001_desc,g_rtee_d[l_ac].imaal004
     FROM imaal_t WHERE imaal001 = g_rtee_d[l_ac].rtee001
      AND imaal002 = g_dlang
   SELECT imaa009 INTO  g_rtee_d[l_ac].imaa009
     FROM imaa_t WHERE imaa001 = g_rtee_d[l_ac].rtee001
      AND imaaent = g_enterprise 
   SELECT rtdx033 INTO g_rtee_d[l_ac].imaa105
     FROM rtdx_t WHERE rtdx001 = g_rtee_d[l_ac].rtee001
      AND rtdxent = g_enterprise AND rtdxsite = g_rteb_m.rtebsite
   IF cl_null( g_rtee_d[l_ac].imaa105) THEN
      SELECT imaa105 INTO  g_rtee_d[l_ac].imaa105
        FROM imaa_t WHERE imaa001 = g_rtee_d[l_ac].rtee001
         AND imaaent = g_enterprise 
   END IF
      
   SELECT rtaxl003 INTO g_rtee_d[l_ac].imaa009_desc
     FROM rtaxl_t
    WHERE rtaxl001 =  g_rtee_d[l_ac].imaa009 AND rtaxlent = g_enterprise
      AND rtaxl002 = g_dlang
   SELECT oocal003 INTO g_rtee_d[l_ac].imaa105_desc
     FROM oocal_t
    WHERE oocal001 = g_rtee_d[l_ac].imaa105 AND oocalent = g_enterprise
      AND oocal002 = g_dlang
   DISPLAY g_rtee_d[l_ac].rtee001_desc,g_rtee_d[l_ac].imaal004,g_rtee_d[l_ac].imaa009,
           g_rtee_d[l_ac].imaa009_desc,g_rtee_d[l_ac].imaa105,g_rtee_d[l_ac].imaa105_desc 
        TO s_detail1[l_ac].rtee001_desc,s_detail1[l_ac].imaal004,s_detail1[l_ac].imaa009,
           s_detail1[l_ac].imaa009_desc,s_detail1[l_ac].imaa105,s_detail1[l_ac].imaa105_desc
END FUNCTION]]>
  </point>
  <point name="function.artt412_rtee014_ref" order="11" ver="1" cite_std="N" cite_ver="" new="Y" status="" src="s" mark_hard="N">
    <![CDATA[#display rtee014
PRIVATE FUNCTION artt412_rtee014_ref()
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rtee_d[l_ac].rtee014
   CALL ap_ref_array2(g_ref_fields,"SELECT oocql004 FROM oocql_t WHERE oocqlent='"||g_enterprise||"' AND oocql001='2075' AND oocql002=? AND oocql003='"||g_dlang||"'","") RETURNING g_rtn_fields
   LET g_rtee_d[l_ac].rtee014_desc = '', g_rtn_fields[1] , ''
   DISPLAY  g_rtee_d[l_ac].rtee014_desc to s_detail1[l_ac].rtee014_desc
END FUNCTION]]>
  </point>
  <point name="browser_fill.before_foreach" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[]]>
  </point>
  <point name="browser_fill.define" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF NOT cl_null(g_argv[02]) THEN
      LET g_wc = g_wc," AND rted001= '",g_argv[02],"' "
   END IF]]>
  </point>
  <point name="construct.a.rted001" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            ]]>
  </point>
  <point name="cs.head.before_construct" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rted001) THEN
               DISPLAY g_rted001 TO rted001
            END IF]]>
  </point>
  <point name="fetch.action_control" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF g_rted_m.rtedstus<>'N' THEN
      CALL cl_set_act_visible("modify,delete", FALSE)
   ELSE
      CALL cl_set_act_visible("modify,delete", TRUE)
   END IF]]>
  </point>
  <point name="global.variable" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[DEFINE g_rted001             LIKE rted_t.rted001
DEFINE g_ooef004             LIKE ooef_t.ooef004
DEFINE g_flag                LIKE type_t.num5]]>
  </point>
  <point name="input.a.page1.rtee009" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee009) THEN
               IF l_cmd = 'a' OR ( l_cmd = 'u' AND ( g_rtee_d[l_ac].rtee009 != g_rtee_d_t.rtee009 OR g_rtee_d_t.rtee009 IS null)) THEN
                  IF g_rtee_d[l_ac].rtee009< g_today THEN
                     CALL cl_err(g_rtee_d[l_ac].rtee009,"art-00157",1)
                     LET g_rtee_d[l_ac].rtee009 = g_rtee_d_t.rtee009 
                     NEXT FIELD rtee009
                  END IF
               END IF
            END IF ]]>
  </point>
  <point name="input.a.page1.rtee013" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF  NOT cl_null(g_rtee_d[l_ac].rtee013) THEN
               IF p_cmd = 'a' OR ( p_cmd = 'u' AND (g_rtee_d[l_ac].rtee013 != g_rtee_d_t.rtee013 OR g_rtee_d_t.rtee013 IS NULL )) THEN
                  IF g_rtee_d[l_ac].rtee013 < g_today THEN
                     CALL cl_err(g_rtee_d[l_ac].rtee013,"art-00137",1)
                     LET g_rtee_d[l_ac].rtee013 = g_rtee_d_t.rtee013
                     NEXT FIELD rtee013
                  END IF
               END IF
            END IF
            display g_rtee_d[l_ac].rtee013 to s_detail1[l_ac].rtee013]]>
  </point>
  <point name="input.a.rted001" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            CALL artt412_rted001_null()
            IF  NOT cl_null(g_rted_m.rted001) THEN
               IF p_cmd = 'a' OR ( p_cmd = 'u' AND (g_rted_m.rted001 != g_rted_m_t.rted001 OR g_rted_m_t.rted001 IS NULL )) THEN
                  CALL artt412_chk_rted001()
                  IF NOT cl_null(g_errno) THEN
                     CALL cl_err(g_rted_m.rted001,g_errno,1)
                     LET g_rted_m.rted001 = g_rted_m_t.rted001
                     CALL artt412_rted001_ref()
                     NEXT FIELD rted001
                  END IF
                  CALL g_rtee_d.clear()
               END IF
            END IF
            CALL artt412_rted001_ref()]]>
  </point>
  <point name="input.a.rteddocdt" order="" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[#            IF cl_null(g_rted_m.rteddocdt) THEN  
#               NEXT FIELD rteddocdt
#            END IF   ]]>
  </point>
  <point name="input.before_input" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   LET g_flag=FALSE]]>
  </point>
  <point name="input.define" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   DEFINE  l_success       LIKE type_t.num5
   define  l_cnt3          like type_t.num5]]>
  </point>
  <point name="input.g.page1.rtee007" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF NOT cl_null(g_rtee_d[l_ac].rtee007) THEN
               IF g_rtee_d[l_ac].rtee005>g_rtee_d[l_ac].rtee007 THEN
                  LET g_rtee_d[l_ac].rtee010 = 'Y'
               ELSE
                  LET g_rtee_d[l_ac].rtee010 = 'N'                
                  
               END IF
            END IF
            DISPLAY g_rtee_d[l_ac].rtee010 TO s_detail1[l_ac].rtee010]]>
  </point>
  <point name="input.g.page1.rtee008" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            CALL artt412_set_entry_b(l_cmd)
            call artt412_set_no_entry_b(l_cmd)
            IF g_rtee_d[l_ac].rtee008='N' THEN
               LET g_rtee_d[l_ac].rtee009 = NULL
            END IF]]>
  </point>
  <point name="input.g.page1.rtee009" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            ]]>
  </point>
  <point name="input.g.page1.rtee011" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            CALL artt412_set_entry_b(l_cmd)
            CALL artt412_set_no_entry_b(l_cmd)
            IF g_rtee_d[l_ac].rtee011='N' THEN
               LET g_rtee_d[l_ac].rtee013 = NULL
            END IF
            IF g_rtee_d[l_ac].rtee011='Y' THEN
               LET g_rtee_d[l_ac].rtee012 = g_rtee_d[l_ac].rtee007
            END IF ]]>
  </point>
  <point name="input.head.a_update" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[                     IF NOT cl_null(g_rted_m.rted001) THEN
                        IF g_rted_m.rted001 <> g_rted_m_t.rted001 OR g_rted_m_t.rted001 THEN
                           DELETE FROM rtee_t WHERE rteeent = g_enterprise  AND rteedocno = g_rted_m.rteddocno
                           IF SQLCA.sqlcode THEN
                              CALL cl_err("rted_t",SQLCA.sqlcode,1)  
                              CALL s_transaction_end('N','0')
                              RETURN
                           ELSE
                              IF NOT cl_null(g_rted_m.rted001) THEN
                                 CALL artt412_insert_rtee() RETURNING l_success
                                 IF l_success=false THEN
                                    CALL s_transaction_end('N','0')
                                    RETURN
                                 ELSE
                                    CALL  g_rtee_d.clear()
                                 END IF
                        
                              END IF
                           END IF
                        END IF
                     END IF]]>
  </point>
  <point name="input.head.b_insert" order="" ver="1" cite_std="" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[                  SELECT count(*) INTO l_cnt3 FROM rted_t WHERE rted001 = g_rted_m.rted001
                     AND rtedent = g_enterprise AND rtedstus = 'Y' 
                  IF l_cnt3 > 0 THEN
                     CALL cl_err(g_rted_m.rted001,"art-00136",1)
                     NEXT FIELD rted001
                  END IF
               IF NOT cl_null(g_rted_m.rteddocno) THEN 
               
                  CALL s_aooi200_gen_docno(g_rted_m.rtedsite,g_rted_m.rteddocno,g_rted_m.rteddocdt)
                     RETURNING  g_success,g_rted_m.rteddocno
                  IF g_success<>'1' THEN
                     call cl_err(g_rted_m.rteddocno,"amm-00001",1)
                     NEXT FIELD rteddocno
                  ELSE
                     IF NOT ap_chk_notDup("","SELECT COUNT(*) FROM rted_t WHERE "||"rtedent = '" ||g_enterprise|| "' AND "||"rteddocno = '"||g_rted_m.rteddocno ||"'",'std-00004',1) THEN
                        let g_rted_m.rteddocno = g_rteddocno_t
                        NEXT FIELD rteddocno
                     END IF

                  END IF
                  LET g_rted_m_t.rteddocno = g_rted_m.rteddocno
                     
               END IF   ]]>
  </point>
  <point name="input.head.m_insert" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[                  IF SQLCA.sqlcode THEN
                  ELSE
                     IF NOT cl_null(g_rted_m.rted001) THEN
                        CALL artt412_insert_rtee() RETURNING l_success
                        IF l_success=false THEN
                           CONTINUE DIALOG
                        END IF
                        
                     END IF
                  END IF]]>
  </point>
  <point name="input.m.before_input" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[            IF l_cmd_t = 'r' THEN
            ELSE
               CALL artt412_set_entry(p_cmd)
               CALL artt412_set_no_entry(p_cmd)            
            END IF
            ]]>
  </point>
  <point name="insert.default" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[      LET g_rted_m.rtedunit = g_site
      let g_rted_m.rtedsite = g_site
      call artt412_rtedunit_ref()
      LET g_rted_m.rteddocdt = g_today
      let g_rted_m_t.* = g_rted_m.*]]>
  </point>
  <point name="main.init" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF NOT cl_null(g_argv[02]) THEN
      LET g_rted001 = g_argv[02]
   END IF
   SELECT ooef004 INTO g_ooef004 FROM ooef_t WHERE ooefent=g_enterprise AND ooef001=g_site]]>
  </point>
  <point name="reproduce.head.b_input" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   LET g_rted_m.rtedstus = "N"
   LET g_rted_m.rteddocdt = g_today]]>
  </point>
  <point name="set_entry.field_control" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[      CALL cl_set_comp_entry("rteddocno,rteddocdt",TRUE)]]>
  </point>
  <point name="set_entry_b.set_entry_b" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   CALL cl_set_comp_entry("rtee009",TRUE) 
   CALL cl_set_comp_entry("rtee012,rtee013,rtee014",true)]]>
  </point>
  <point name="set_no_entry.after_control" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF g_flag THEN
      CALL cl_set_comp_entry("rteddocno,rteddocdt",FALSE)
   END IF]]>
  </point>
  <point name="set_no_entry.field_control" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[      ]]>
  </point>
  <point name="set_no_entry_b.set_no_entry_b" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF g_rtee_d[l_ac].rtee008='N' THEN
      CALL cl_set_comp_entry("rtee009",FALSE) 
   END IF
   IF g_rtee_d[l_ac].rtee011='N' THEN
      CALL cl_set_comp_entry("rtee012,rtee013",FALSE)
   ELSE
      CALL cl_set_comp_entry("rtee014",FALSE)   
   END IF]]>
  </point>
  <point name="show.after" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   LET l_cnt = g_rtee_d.getLength()
   DISPLAY l_cnt TO FORMONLY.cnt]]>
  </point>
  <point name="show.define" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   DEFINE l_cnt     LIKE type_t.num5]]>
  </point>
  <point name="statechange.a_update" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   SELECT rtedstus,rtedcnfid,rtedcnfdt,rtedmodid,rtedmoddt INTO g_rted_m.rtedstus,g_rted_m.rtedcnfid,g_rted_m.rtedcnfdt,
                                                                g_rted_m.rtedmodid,g_rted_m.rtedmoddt  
     FROM rted_t
    WHERE rtedent = g_enterprise AND rteddocno = g_rted_m.rteddocno
   DISPLAY BY NAME g_rted_m.rtedstus,g_rted_m.rtedcnfid,g_rted_m.rtedcnfdt,g_rted_m.rtedmodid,g_rted_m.rtedmoddt
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rtedcnfid
   CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
   LET g_rted_m.rtedcnfid_desc = g_rtn_fields[1]
   DISPLAY BY NAME g_rted_m.rtedcnfid_desc   
   INITIALIZE g_ref_fields TO NULL
   LET g_ref_fields[1] = g_rted_m.rtedmodid
   CALL ap_ref_array2(g_ref_fields,"SELECT oofa011 FROM oofa_t WHERE oofaent='"||g_enterprise||"' AND oofa002='2' AND oofa003=? ","") RETURNING g_rtn_fields
   LET g_rted_m.rtedmodid_desc = g_rtn_fields[1]
   DISPLAY BY NAME g_rted_m.rtedmodid_desc
   IF g_rted_m.rtedstus <> "N" THEN
      CALL cl_set_act_visible("delete,modify", FALSE)
   ELSE
      CALL cl_set_act_visible("delete,modify", true)    
   END IF]]>
  </point>
  <point name="statechange.b_update" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   LET l_success = TRUE
   CASE lc_state 
      WHEN 'Y' 
         SELECT rtedstus INTO g_rted_m.rtedstus FROM rted_t WHERE rteddocno = g_rted_m.rteddocno
            AND rtedent = g_enterprise         
         CALL s_artt412_conf_chk(g_rted_m.rteddocno,g_rted_m.rtedstus) RETURNING l_success,g_errno
         IF l_success THEN
            IF cl_ask_confirm('lib-014') THEN
               CALL s_transaction_begin()
               CALL s_artt412_conf_upd(g_rted_m.rteddocno) RETURNING l_success
               IF NOT l_success THEN
                  CALL s_transaction_end('N','0')
                  RETURN
               ELSE
                  CALL s_transaction_end('Y','1')   
               END IF
            ELSE
               RETURN
            END IF            
         ELSE
            CALL cl_err(g_rted_m.rteddocno,g_errno,1)
            RETURN            
         END IF
                
      WHEN 'N'
         SELECT rtedstus INTO g_rted_m.rtedstus FROM rted_t WHERE rteddocno = g_rted_m.rteddocno
            AND rtedent = g_enterprise 
         CALL s_artt412_unconf_chk(g_rted_m.rteddocno,g_rted_m.rtedstus) RETURNING l_success,g_errno
         IF l_success THEN
            IF cl_ask_confirm('lib-015') THEN
               CALL s_transaction_begin()
               CALL s_artt412_unconf_upd(g_rted_m.rteddocno) RETURNING l_success
               IF NOT l_success THEN
                  CALL s_transaction_end('N','0')
                  RETURN
               ELSE
                  CALL s_transaction_end('Y','1')
               END IF
            ELSE
               RETURN
            END IF
         ELSE
            CALL cl_err(g_rted_m.rteddocno,g_errno,1)
            RETURN    
         END IF   
   END CASE ]]>
  </point>
  <point name="statechange.before" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   IF g_rted_m.rtedstus = 'X' THEN
      RETURN
   END IF]]>
  </point>
  <point name="statechange.before_menu" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[      CALL cl_set_act_visible("invalid,open,confirmed", true)
      IF g_rted_m.rtedstus <> 'N' THEN
      ELSE
         CALL cl_set_act_visible("open", FALSE)      
      END IF
      IF g_rted_m.rtedstus = 'Y' THEN
         CALL cl_set_act_visible("open", TRUE)
         CALL cl_set_act_visible("confirmed", FALSE)      
      END IF]]>
  </point>
  <point name="statechange.define" order="" ver="1" cite_std="N" cite_ver="" new="N" status="" src="s" mark_hard="N">
    <![CDATA[   DEFINE l_success like type_t.num5]]>
  </point>
</add_points>
