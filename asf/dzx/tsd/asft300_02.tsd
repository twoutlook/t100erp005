<spec prog="asft300_02" std_prog="asft300_02" erpver="1.0" ver="1" module="ASF" booking="Y" class="I" template="F002_00" env="s" zone="t10dev">
  <other>
    <code_template value="F" status="" />
    <free_style value="N" status="" />
  </other>
  <toolbar items="" />
  <prog_rel>
    <pfield src="s" ver="1" name="qty1_1" depend_field="qty1_1" program="" type="1" cite_std="N" status="d" />
    <pfield src="s" ver="1" name="qty1" depend_field="qty1" program="" type="1" cite_std="N" status="d" />
  </prog_rel>
  <ref_field>
    <rfield cite_std="N" ver="1" name="sfba005_desc" src="s" depend_field="sfba_t.sfba005" correspon_key="sfba005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
    <rfield cite_std="N" ver="1" name="sfba005_desc_desc" src="s" depend_field="sfba005_desc" correspon_key="sfba005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
    <rfield cite_std="N" ver="1" name="part_desc" src="s" depend_field="part" correspon_key="part" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
    <rfield cite_std="N" ver="1" name="part_desc_desc" src="s" depend_field="part_desc" correspon_key="part" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
  </ref_field>
  <multi_lang />
  <help_code>
    <hfield cite_std="N" ver="1" name="mole" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="part" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty1" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty10" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty2" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty3" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty4" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty5" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty6" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty7" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty9" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="unit" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfba002" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfba003" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfba004" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfbaseq" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="qty8" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfba005" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="deno" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfba_t.sfbaseq1" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
  </help_code>
  <strings>
    <sfield name="bpage_1" text="項目" lstr="" />
    <sfield name="lbl_sfbaseq" text="項次" lstr="" />
    <sfield name="lbl_sfbaseq1" text="項序" lstr="" />
    <sfield name="lbl_sfba002" text="部位" lstr="" />
    <sfield name="lbl_sfba003" text="作業編號" lstr="" />
    <sfield name="lbl_sfba004" text="作業序" lstr="" />
    <sfield name="lbl_sfba005" text="BOM料號" lstr="" />
    <sfield name="lbl_imaal003" text="品名" lstr="" />
    <sfield name="lbl_imaal004" text="規格" lstr="" />
    <sfield name="lbl_replace" text="取替代建議" lstr="" />
    <sfield name="lbl_rep0" text="0.不可取替代" lstr="" />
    <sfield name="lbl_rep1" text="1.有取替代但無庫存" lstr="" />
    <sfield name="lbl_rep2" text="2.舊料有庫存可取代" lstr="" />
    <sfield name="lbl_rep3" text="3.副料有庫存可替代" lstr="" />
    <sfield name="lbl_rep4" text="4.可SET替代" lstr="" />
    <sfield name="lbl_qty1" text="總應發量" lstr="" />
    <sfield name="lbl_qty2" text="已取替代量" lstr="" />
    <sfield name="lbl_qty3" text="此次選取取替代量" lstr="" />
    <sfield name="page_2" text="取替代料" lstr="" />
    <sfield name="lbl_part" text="取替代料號" lstr="" />
    <sfield name="lbl_unit" text="單位" lstr="" />
    <sfield name="lbl_mole" text="替代率分子" lstr="" />
    <sfield name="lbl_deno" text="替代率分母" lstr="" />
    <sfield name="lbl_qty4" text="已取替代量" lstr="" />
    <sfield name="lbl_qty5" text="取替代量加減量" lstr="" />
    <sfield name="lbl_qty6" text="折合量" lstr="" />
    <sfield name="lbl_qty7" text="可用庫存量" lstr="" />
    <sfield name="lbl_qty8" text="在途量" lstr="" />
    <sfield name="lbl_qty9" text="需求量" lstr="" />
    <sfield name="lbl_qty10" text="預計可用量" lstr="" />
    <sfield name="lbl_dbegin" text="第" lstr="" />
    <sfield name="lbl_dsep" text="項(共" lstr="" />
    <sfield name="lbl_dend" text="項)" lstr="" />
    <sact name="delete" text="刪除" lstr="" />
    <sact name="insert" text="新增" lstr="" />
    <sact name="modify" text="更改" lstr="" />
    <sact name="output" text="列印" lstr="" />
    <sact name="query" text="查詢" lstr="" />
    <sfield name="lbl_qty1_1" text="總應發量" comment="" lstr="u" />
    <sfield name="lbl_qty2_1" text="已取替代量" comment="" lstr="u" />
    <sfield name="lbl_qty3_1" text="此次選取取替代量" comment="" lstr="u" />
  </strings>
  <sa_spec />
  <table ver="1" cite_std="N">
    <tbl name="sfba_t" main="Y" head="N" pk="" fk_detail="" parent="" fk_master="" src="s" status="" def_pk="" def_fk_master="" def_fk_detail="">
      <sr name="s_detail1" src="s" insert="N" delete="N" append="N" cascade="Y" kind="Table" status="" />
      <sr name="s_detail2" src="s" insert="N" delete="N" append="N" cascade="Y" kind="Table" status="" />
    </tbl>
  </table>
  <all cite_std="N" ver="1" src="s" status="">
<![CDATA[維護完全部的取替代料後，將取替代資料產生入工單單身
1.修改主料的總應發量=總應發量-此次選擇取替代量
2.若選擇的取替代料為原來沒有的資料，新增一筆同樣項次的資料進工單單身，項序依流水號往下編
3.原來已經有的取替代料號，則修改總應發數=總應發數+取替代加減量
4.如果原來有的取替代料號，在修改完後總應發量=0，則將此筆資料刪除]]>
</all>
  <di_all cite_std="N" ver="1" src="s" status="">
<![CDATA[1.第二個單身由第一個單身指定的項次帶出BOM有建立的所有取替代料號的資料(需考慮生失效日期)
2.使用者只可維護替代量加減欄位，其他欄位不可輸入
]]>
</di_all>
  <db_all cite_std="N" ver="1" src="s" status="">
<![CDATA[1.第一個單身由工單單身帶出資料顯示，找出工單單身所有在BOM中有建立取代或替代資料的項次，且BOM料號等於應發料號的項序(一定會是0)
2.第一個單身不可維護]]>
</db_all>
  <field src="s" ver="1" column="" name="qty1_1" table="" attribute="" type="" req="" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" cite_std="N" status="d">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfba003" ver="1" src="s" column="sfba003" table="sfba_t" attribute="C402" type="varchar2(10)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfba004" ver="1" src="s" column="sfba004" table="sfba_t" attribute="C404" type="varchar2(10)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfba002" ver="1" src="s" column="sfba002" table="sfba_t" attribute="C002" type="varchar2(10)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="qty9" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[需求量：
 1.訂單未出貨量
 2.工單未發數量
]]>
</field>
  <field cite_std="N" name="replace" ver="1" src="s" column="" table="" attribute="" type="" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ComboBox" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="unit" ver="1" src="s" column="bmea013" table="bmea_t" attribute="C009" type="varchar2(10)" req="" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="" can_query="" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="deno" ver="1" src="s" column="bmea012" table="bmea_t" attribute="N101" type="number(20, 6)" req="" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="" can_query="" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfbaseq1" ver="1" src="s" column="sfbaseq1" table="sfba_t" attribute="N004" type="number(10,0)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfba005" ver="1" src="s" column="sfba005" table="sfba_t" attribute="C301" type="varchar2(40)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfba_t.sfbaseq" ver="1" src="s" column="sfbaseq" table="sfba_t" attribute="N004" type="number(10,0)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="qty8" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[在途量：
 1.請購未轉採購數量
 2.採購未收貨數量
 3.已收貨未入庫數量
 4.工單生產未入庫數量
]]>
</field>
  <field cite_std="N" name="qty10" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[預計可用量= 可用庫存數量+在途量-需求量]]>
</field>
  <field cite_std="N" name="qty2" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="">
<![CDATA[已取替代量：取同工單號+項次，，排除項序0的應發數*替代率加總]]>
</field>
  <field cite_std="N" name="qty1" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="u">
<![CDATA[總應發數量：同工單號+項次的全部單身總應發量*替代率加總]]>
</field>
  <field cite_std="N" name="mole" ver="1" src="s" column="bmea011" table="bmea_t" attribute="N101" type="number(20, 6)" req="" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="" can_query="" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="part" ver="1" src="s" column="bmea008" table="bmea_t" attribute="C301" type="varchar2(40)" req="" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="" can_query="" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="qty6" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[折合量：
   ●欄位控管：
     資料欄位:Display Only
     預設值:取替代加減量*替代率分子/替代率分母
]]>
</field>
  <field cite_std="N" name="qty7" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[可用庫存數量:取替代料號的可用庫存數加總]]>
</field>
  <field cite_std="N" name="qty5" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[取替代量加減：
   ●欄位控管：
     資料欄位:Input Only
     預設值:0
     校驗:1.不允許空白
          2.可輸入正負值
          3.需檢查總折合量+已替代量不可超過總應發數量
          4.輸入負數量，需檢查不可超過此取替代料號已取替代的數量
]]>
</field>
  <field cite_std="N" name="qty3" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="N" can_query="Y" widget="Edit" status="">
<![CDATA[此次選擇取替代量：取此畫面下單身對應此筆資料的折合量加總]]>
</field>
  <field cite_std="N" name="qty4" ver="1" src="s" column="sfba013" table="sfba_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[已取替代量：
   ●欄位控管：
     資料欄位:Display Only
     預設值:顯示此取替代料號在工單已取替代數量
]]>
</field>
  <act cite_std="N" id="output" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="query" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="modify" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="delete" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="insert" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <exclude ver="" cite_std="N" src="" />
</spec>