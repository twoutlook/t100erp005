<spec prog="asft300_03" std_prog="asft300_03" erpver="1.0" ver="1" module="ASF" booking="Y" class="I" template="F002_00" env="s" zone="t10dev">
  <other>
    <code_template value="F" status="" />
    <free_style value="N" status="" />
  </other>
  <toolbar items="" />
  <prog_rel />
  <ref_field>
    <rfield cite_std="N" ver="1" name="bmgc005_desc" src="s" depend_field="bmgc_t.bmgc005" correspon_key="bmgc005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
    <rfield cite_std="N" ver="1" name="bmgc004_desc_desc" src="s" depend_field="bmgc004_desc" correspon_key="bmgc004" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
    <rfield cite_std="N" ver="1" name="bmgc004_desc" src="s" depend_field="bmgc_t.bmgc004" correspon_key="bmgc004" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
    <rfield cite_std="N" ver="1" name="bmgc007_desc" src="s" depend_field="bmgc_t.bmgc007" correspon_key="'221',bmgc007" ref_table="oocql_t" ref_fk="oocql001,oocql002" ref_dlang="oocql003" ref_rtn="oocql004" status="" />
    <rfield cite_std="N" ver="1" name="bmgc006_desc" src="s" depend_field="bmgc_t.bmgc006" correspon_key="'215',bmgc006" ref_table="oocql_t" ref_fk="oocql001,oocql002" ref_dlang="oocql003" ref_rtn="oocql004" status="" />
    <rfield cite_std="N" ver="1" name="bmgc005_desc_desc" src="s" depend_field="bmgc005_desc" correspon_key="bmgc005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
    <rfield cite_std="N" ver="1" name="bmgb007_desc" src="s" depend_field="bmgb_t.bmgb007" correspon_key="'221',bmgb007" ref_table="oocql_t" ref_fk="oocql001,oocql002" ref_dlang="oocql003" ref_rtn="oocql004" status="" />
    <rfield cite_std="N" ver="1" name="bmgb004_desc_desc" src="s" depend_field="bmgb004_desc" correspon_key="bmgb004" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
    <rfield cite_std="N" ver="1" name="bmgb004_desc" src="s" depend_field="bmgb_t.bmgb004" correspon_key="bmgb004" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
    <rfield cite_std="N" ver="1" name="bmga003_desc" src="s" depend_field="bmga_t.bmga003" correspon_key="bmga003" ref_table="bmgal_t" ref_fk="bmgal003" ref_dlang="bmgal004" ref_rtn="bmgal005" status="" />
    <rfield cite_std="N" ver="1" name="bmgb006_desc" src="s" depend_field="bmgb_t.bmgb006" correspon_key="'215',bmgb006" ref_table="oocql_t" ref_fk="oocql001,oocql002" ref_dlang="oocql003" ref_rtn="oocql004" status="" />
    <rfield cite_std="N" ver="1" name="bmgb005_desc_desc" src="s" depend_field="bmgb005_desc" correspon_key="bmgb005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal004" status="" />
    <rfield cite_std="N" ver="1" name="bmgb005_desc" src="s" depend_field="bmgb_t.bmgb005" correspon_key="bmgb005" ref_table="imaal_t" ref_fk="imaal001" ref_dlang="imaal002" ref_rtn="imaal003" status="" />
  </ref_field>
  <multi_lang />
  <help_code>
    <hfield cite_std="N" ver="1" name="bmga_t.bmga003" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgb_t.bmgb004" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgb_t.bmgb005" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgb_t.bmgb006" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc005" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgb_t.bmgb008" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgb_t.bmgb007" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc004" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc007" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc008" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc009" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc010" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfbadocno" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc006" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="bmgc_t.bmgc011" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
    <hfield cite_std="N" ver="1" name="sfaadocno" src="s" help_table="" help_find="" help_dlang="" help_field="" help_wc="" mapping_widget="" status="" />
  </help_code>
  <strings>
    <sfield name="bpage_1" text="項目" lstr="" />
    <sfield name="lbl_check" text="選擇" lstr="u" />
    <sfield name="lbl_check1" text="已替代" lstr="u" />
    <sfield name="lbl_bmga003" text="替代群組" lstr="" />
    <sfield name="lbl_bmgal005" text="說明" lstr="" />
    <sfield name="page_2" text="元件" lstr="" />
    <sfield name="lbl_sfaadocno" text="單號" lstr="" />
    <sfield name="lbl_bmgb004" text="階層主件料號" lstr="" />
    <sfield name="lbl_imaal003" text="品名" lstr="" />
    <sfield name="lbl_imaal004" text="規格" lstr="" />
    <sfield name="lbl_bmgb005" text="元件料號" lstr="" />
    <sfield name="lbl_bmgb006" text="部位" lstr="" />
    <sfield name="lbl_oocql004" text="說明" lstr="" />
    <sfield name="lbl_bmgb007" text="作業編號" lstr="" />
    <sfield name="lbl_bmgb008" text="製程序" lstr="" />
    <sfield name="lbl_bmgb009" text="主要" lstr="" />
    <sfield name="page_3" text="替代料" lstr="" />
    <sfield name="lbl_sfbadocno" text="單號" lstr="" />
    <sfield name="lbl_bmgc004" text="階層主件料號" lstr="" />
    <sfield name="lbl_bmgc005" text="替代料號" lstr="" />
    <sfield name="lbl_bmgc006" text="部位" lstr="" />
    <sfield name="lbl_bmgc007" text="作業編號" lstr="" />
    <sfield name="lbl_bmgc008" text="製程序" lstr="" />
    <sfield name="lbl_bmgc009" text="組成用量" lstr="" />
    <sfield name="lbl_bmgc010" text="主件底數" lstr="" />
    <sfield name="lbl_bmgc011" text="單位" lstr="" />
    <sfield name="lbl_hbegin" text="第" lstr="" />
    <sfield name="lbl_hsep" text="筆(共" lstr="" />
    <sfield name="lbl_hend" text="筆)" lstr="" />
    <sfield name="lbl_dbegin" text="第" lstr="" />
    <sfield name="lbl_dsep" text="項(共" lstr="" />
    <sfield name="lbl_dend" text="項)" lstr="" />
    <sact name="delete" text="刪除" lstr="" />
    <sact name="insert" text="新增" lstr="" />
    <sact name="modify" text="更改" lstr="" />
    <sact name="output" text="列印" lstr="" />
    <sact name="query" text="查詢" lstr="" />
  </strings>
  <sa_spec />
  <table ver="1" cite_std="N">
    <tbl name="bmga_t" main="Y" head="N" pk="" fk_detail="" parent="" fk_master="" src="s" status="" def_pk="" def_fk_master="" def_fk_detail="">
      <sr name="s_detail1" src="s" insert="N" delete="N" append="N" cascade="Y" kind="Table" status="" />
    </tbl>
    <tbl name="bmgb_t" main="N" head="N" pk="" fk_detail="" parent="bmga_t" fk_master="" src="s" status="" def_pk="" def_fk_master="" def_fk_detail="">
      <sr name="s_detail2" src="s" insert="N" delete="N" append="N" cascade="Y" kind="Table" status="" />
    </tbl>
    <tbl name="bmgc_t" main="N" head="N" pk="" fk_detail="" parent="bmga_t" fk_master="" src="s" status="" def_pk="" def_fk_master="" def_fk_detail="">
      <sr name="s_detail3" src="s" insert="N" delete="N" append="N" cascade="Y" kind="Table" status="" />
    </tbl>
  </table>
  <all cite_std="N" ver="1" src="s" status="">
<![CDATA[1.進入此畫面後，用工單生產料號找到全部可以做SET替代的群組顯示在最上方表格上
2.最上方的表格可點選，點選後顯示元件單身與替代料單身
3.將此次要做替代料的群組在選擇欄位勾選，只可勾選一個
4.元件單身與替代料單身都不可修改
5.元件單身依階層主件料號+元件料號+部位+作業+製程序找到對應的工單，將工單號碼顯示出來，
  若找不到對應的工單號碼，則留空白
6.替代料單身以階層主件料號找出對應的工單號碼，若找不到則留空白
7.對應的工單號碼範圍為目前工單+目前工單的全部子工單，或是與目前工單相同母工單的子工單、母工單
8.確定元件單身與替代料單身的工單號碼都不是空白才可做替代
9.替代後，用元件單身內的工單單號+元件料號+部位+作業+製程序找到工單對應的資料，將該項次的應發數量改為0，並將SET替代狀態改為2.已被SET替代，並記錄替代群組
10.替代料單身的資料依照工單單號新增到工單的單身，並SET將替代狀態改為3.SET替代料，並記錄替代群組
11.當選擇的群組為已替代，代表是要將已做過的群組替代還原
12.還原方式:將此工單單身記錄此群組的資料找出，SET替代狀態=3.SET替代料的資料全部刪除，SET替代狀態=2.已被SET替代的資料，依BOM表重算應發數量，並將SET替代狀態改為1.未替代，清空替代群組


]]>
</all>
  <field cite_std="N" name="bmgc_t.bmgc009" ver="1" src="s" column="bmgc009" table="bmgc_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc010" ver="1" src="s" column="bmgc010" table="bmgc_t" attribute="N101" type="number(20, 6)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc007" ver="1" src="s" column="bmgc007" table="bmgc_t" attribute="C816" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc008" ver="1" src="s" column="bmgc008" table="bmgc_t" attribute="C402" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc011" ver="1" src="s" column="bmgc011" table="bmgc_t" attribute="C009" type="varchar2(10)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfaadocno" ver="1" src="s" column="sfaadocno" table="sfaa_t" attribute="C203" type="varchar2(20)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="sfbadocno" ver="1" src="s" column="sfbadocno" table="sfba_t" attribute="C203" type="varchar2(20)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="check" ver="1" src="s" column="sfba026" table="sfba_t" attribute="C001" type="varchar2(1)" req="N" i_zoom="" c_zoom="" chk_ref="" items="4012" default="N" max="" min="" can_edit="Y" can_query="Y" widget="CheckBox" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="check1" ver="1" src="s" column="sfba026" table="sfba_t" attribute="C001" type="varchar2(1)" req="N" i_zoom="" c_zoom="" chk_ref="" items="4012" default="N" max="" min="" can_edit="Y" can_query="Y" widget="CheckBox" status="">
<![CDATA[已替代:
  判斷工單單身的替代群組是否存在，如已存在此群組代號，則此欄位顯示為勾選
]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc006" ver="1" src="s" column="bmgc006" table="bmgc_t" attribute="C816" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb005" ver="1" src="s" column="bmgb005" table="bmgb_t" attribute="C301" type="varchar2(40)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb006" ver="1" src="s" column="bmgb006" table="bmgb_t" attribute="C816" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmga_t.bmga003" ver="1" src="s" column="bmga003" table="bmga_t" attribute="C002" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="Edit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb004" ver="1" src="s" column="bmgb004" table="bmgb_t" attribute="C301" type="varchar2(40)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb007" ver="1" src="s" column="bmgb007" table="bmgb_t" attribute="C816" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc004" ver="1" src="s" column="bmgc004" table="bmgc_t" attribute="C301" type="varchar2(40)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgc_t.bmgc005" ver="1" src="s" column="bmgc005" table="bmgc_t" attribute="C301" type="varchar2(40)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb008" ver="1" src="s" column="bmgb008" table="bmgb_t" attribute="C402" type="varchar2(10)" req="Y" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="ButtonEdit" status="">
<![CDATA[]]>
</field>
  <field cite_std="N" name="bmgb_t.bmgb009" ver="1" src="s" column="bmgb009" table="bmgb_t" attribute="C001" type="varchar2(1)" req="N" i_zoom="" c_zoom="" chk_ref="" items="" default="" max="" min="" can_edit="Y" can_query="Y" widget="CheckBox" status="">
<![CDATA[]]>
</field>
  <act cite_std="N" id="output" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="query" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="modify" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="delete" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <act cite_std="N" id="insert" ver="1" src="s" type="all" gen_code="Y" status="">
<![CDATA[]]>
</act>
  <exclude ver="1" cite_std="N" src="s">
    <widget name="page_2" status="" />
    <widget name="s_detail2" status="" />
    <widget name="s_detail3" status="" />
  </exclude>
</spec>