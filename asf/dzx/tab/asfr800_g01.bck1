<?xml version='1.0' encoding='UTF-8'?>
<assembly name="asfr800_g01" module="asf" jobmode="N" type="g01" industry="std" crtid="05384" crtdt="2014-12-04 15:24:44" modid="05384" moddt="2016-10-31 14:13:43" sdver="6" tabver="10001" description="工單變更單">
  <define arg="tm.wc(STRING|where condition)">
    <var seq="1" value="sfka001,sfka002,sfka003,sfka004,sfka005,sfka006,sfka007,sfka008,sfka009,sfka010,sfka011,sfka012,sfka013,sfka014,sfka015,sfka016,sfka017,sfka018,sfka019,sfka020,sfka021,sfka022,sfka023,sfka024,sfka025,sfka026,sfka028,sfka029,sfka030,sfka031,sfka032,sfka033,sfka034,sfka035,sfka036,sfka037,sfka038,sfka039,sfka040,sfka041,sfka042,sfka043,sfka044,sfka045,sfka046,sfka047,sfka048,sfka049,sfka050,sfka051,sfka055,sfka056,sfka057,sfka058,sfka059,sfka060,sfka061,sfka063,sfka064,sfka900,sfka902,sfka905,sfka906,sfkaacti,sfkadocno,sfkaent,sfkasite,sfkastus,sfkg001,sfkg002,sfkg003,sfkg004,sfkg005,sfkg006,sfkg007,sfkg008,sfkg009,sfkg010,sfkg011,sfkg012,sfkg013,sfkg014,sfkg015,sfkg016,sfkg017,sfkg018,sfkg019,sfkg020,sfkg021,sfkg022,sfkg023,sfkg024,sfkg025,sfkg026,sfkg027,sfkg028,sfkg901,sfkg904,sfkg905,sfkgseq,sfkgseq1,sfkgsite,ooag_t_ooag011(ooag011|ooag_t.ooag011),pmaal_t_pmaal004(pmaal004|pmaal_t.pmaal004),imaal_t_imaal003(imaal003|imaal_t.imaal003),x_t7_imaal003(imaal003|x.t7_imaal003),x_t8_imaal003(imaal003|x.t8_imaal003),x_t11_imaal003(imaal003|x.t11_imaal003),t2_oocal003(oocal003|t2.oocal003),oocal_t_oocal003(oocal003|oocal_t.oocal003),x_t6_oocal003(oocal003|x.t6_oocal003),ooefl_t_ooefl003(ooefl003|ooefl_t.ooefl003),pjbal_t_pjbal003(pjbal003|pjbal_t.pjbal003),pjbbl_t_pjbbl004(pjbbl004|pjbbl_t.pjbbl004),pjbml_t_pjbml004(pjbml004|pjbml_t.pjbml004),oocql_t_oocql004(oocql004|oocql_t.oocql004),t1_oocql004(oocql004|t1.oocql004),x_t3_oocql004(oocql004|x.t3_oocql004),x_t9_oocql004(oocql004|x.t9_oocql004),x_t10_oocql004(oocql004|x.t10_oocql004),x_imecl_t_imecl005(imecl005|x.imecl_t_imecl005),l_sfka029_pjbbl004(chr1000|trim(sfka029)||&apos;.&apos;||trim((SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfka_t.sfka028 AND pjbbl_t.pjbbl002 = sfka_t.sfka029 AND pjbbl_t.pjbblent = sfka_t.sfkaent AND pjbbl_t.pjbbl003 = g_dlang))),l_sfka009_pmaal004(chr100|trim(sfka009)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfka_t.sfka009 AND pmaal_t.pmaalent = sfka_t.sfkaent AND pmaal_t.pmaal002 = g_dlang))),l_sfka018_ooefl003(chr1000|trim(sfka018)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfka_t.sfka018 AND ooefl_t.ooeflent = sfka_t.sfkaent AND ooefl_t.ooefl002 = g_dlang))),l_sfka028_pjbal003(chr1000|trim(sfka028)||&apos;.&apos;||trim((SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfka_t.sfka028 AND pjbal_t.pjbalent = sfka_t.sfkaent AND pjbal_t.pjbal002 = g_dlang))),l_sfka002_ooag011(chr300|trim(sfka002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfka_t.sfka002 AND ooag_t.ooagent = sfka_t.sfkaent))),l_sfka030_pjbml004(chr1000|trim(sfka030)||&apos;.&apos;||trim((SELECT pjbml004 FROM pjbml_t WHERE pjbml_t.pjbml001 = sfka_t.sfka028 AND pjbml_t.pjbml002 = sfka_t.sfka030 AND pjbml_t.pjbmlent = sfka_t.sfkaent AND pjbml_t.pjbml003 = g_dlang))),sfkgdocno,sfkgent,sfkg900,sfkadocdt,l_sfkg021_show(chr1|&apos;&apos;),l_sfkg021_desc(chr1000|&apos;&apos;),l_sfkc006_show(chr1|&apos;&apos;),l_sfkc006_desc(chr1000|&apos;&apos;),l_sfkc006(sfkc006|&apos;&apos;),l_sfkc001(sfkc001|&apos;&apos;),l_sfka017_label(chr1000|&apos;&apos;),l_sfka006_label(chr1000|&apos;&apos;),l_ooff013_show(chr1|&apos;&apos;),l_imaal003_imaal004_b(chr1000|&apos;&apos;),l_imaal003_imaal004(chr1000|&apos;&apos;),l_count(num5|&apos;&apos;),x_t7_imaal004(imaal004|x.t7_imaal004),imaal_t_imaal004(imaal004|imaal_t.imaal004),l_sfka017_ooefl003(chr1000|&apos;&apos;),l_sfkg008_desc(gzcbl004|&apos;&apos;),l_order(chr30|&apos;&apos;),l_new(chr1|&apos;&apos;),l_sfkgseq_sfkgseq1(chr30|&apos;&apos;)"/>
    <var seq="2" value="ooff013"/>
  </define>
  <selprep>
    <sql id="g_select" query="sfka001,sfka002,sfka003,sfka004,sfka005,sfka006,sfka007,sfka008,sfka009,sfka010,sfka011,sfka012,sfka013,sfka014,sfka015,sfka016,sfka017,sfka018,sfka019,sfka020,sfka021,sfka022,sfka023,sfka024,sfka025,sfka026,sfka028,sfka029,sfka030,sfka031,sfka032,sfka033,sfka034,sfka035,sfka036,sfka037,sfka038,sfka039,sfka040,sfka041,sfka042,sfka043,sfka044,sfka045,sfka046,sfka047,sfka048,sfka049,sfka050,sfka051,sfka055,sfka056,sfka057,sfka058,sfka059,sfka060,sfka061,sfka063,sfka064,sfka900,sfka902,sfka905,sfka906,sfkaacti,sfkadocno,sfkaent,sfkasite,sfkastus,sfkg001,sfkg002,sfkg003,sfkg004,sfkg005,sfkg006,sfkg007,sfkg008,sfkg009,sfkg010,sfkg011,sfkg012,sfkg013,sfkg014,sfkg015,sfkg016,sfkg017,sfkg018,sfkg019,sfkg020,sfkg021,sfkg022,sfkg023,sfkg024,sfkg025,sfkg026,sfkg027,sfkg028,sfkg901,sfkg904,sfkg905,sfkgseq,sfkgseq1,sfkgsite,ooag_t_ooag011(ooag011|( SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfka_t.sfka002 AND ooag_t.ooagent = sfka_t.sfkaent)),pmaal_t_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfka_t.sfka009 AND pmaal_t.pmaalent = sfka_t.sfkaent AND pmaal_t.pmaal002 = g_dlang)),imaal_t_imaal003(imaal003|( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = sfka_t.sfka010 AND imaal_t.imaalent = sfka_t.sfkaent AND imaal_t.imaal002 = g_dlang)),x_t7_imaal003(imaal003|x.t7_imaal003),x_t8_imaal003(imaal003|x.t8_imaal003),x_t11_imaal003(imaal003|x.t11_imaal003),t2_oocal003(oocal003|( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = sfka_t.sfka013 AND oocal_t.oocalent = sfka_t.sfkaent AND oocal_t.oocal002 = g_dlang)),oocal_t_oocal003(oocal003|( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = sfka_t.sfka060 AND oocal_t.oocalent = sfka_t.sfkaent AND oocal_t.oocal002 = g_dlang)),x_t6_oocal003(oocal003|x.t6_oocal003),ooefl_t_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfka_t.sfka018 AND ooefl_t.ooeflent = sfka_t.sfkaent AND ooefl_t.ooefl002 = g_dlang)),pjbal_t_pjbal003(pjbal003|( SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfka_t.sfka028 AND pjbal_t.pjbalent = sfka_t.sfkaent AND pjbal_t.pjbal002 = g_dlang)),pjbbl_t_pjbbl004(pjbbl004|( SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfka_t.sfka028 AND pjbbl_t.pjbbl002 = sfka_t.sfka029 AND pjbbl_t.pjbblent = sfka_t.sfkaent AND pjbbl_t.pjbbl003 = g_dlang)),pjbml_t_pjbml004(pjbml004|( SELECT pjbml004 FROM pjbml_t WHERE pjbml_t.pjbml001 = sfka_t.sfka028 AND pjbml_t.pjbml002 = sfka_t.sfka030 AND pjbml_t.pjbmlent = sfka_t.sfkaent AND pjbml_t.pjbml003 = g_dlang)),oocql_t_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;225&apos; AND oocql_t.oocql002 = sfka_t.sfka030 AND oocql_t.oocqlent = sfka_t.sfkaent AND oocql_t.oocql003 = g_dlang)),t1_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;225&apos; AND oocql_t.oocql002 = sfka_t.sfka905 AND oocql_t.oocqlent = sfka_t.sfkaent AND oocql_t.oocql003 = g_dlang)),x_t3_oocql004(oocql004|x.t3_oocql004),x_t9_oocql004(oocql004|x.t9_oocql004),x_t10_oocql004(oocql004|x.t10_oocql004),x_imecl_t_imecl005(imecl005|x.imecl_t_imecl005),l_sfka029_pjbbl004(chr1000|trim(sfka029)||&apos;.&apos;||trim((SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfka_t.sfka028 AND pjbbl_t.pjbbl002 = sfka_t.sfka029 AND pjbbl_t.pjbblent = sfka_t.sfkaent AND pjbbl_t.pjbbl003 = g_dlang))),l_sfka009_pmaal004(chr100|trim(sfka009)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfka_t.sfka009 AND pmaal_t.pmaalent = sfka_t.sfkaent AND pmaal_t.pmaal002 = g_dlang))),l_sfka018_ooefl003(chr1000|trim(sfka018)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfka_t.sfka018 AND ooefl_t.ooeflent = sfka_t.sfkaent AND ooefl_t.ooefl002 = g_dlang))),l_sfka028_pjbal003(chr1000|trim(sfka028)||&apos;.&apos;||trim((SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfka_t.sfka028 AND pjbal_t.pjbalent = sfka_t.sfkaent AND pjbal_t.pjbal002 = g_dlang))),l_sfka002_ooag011(chr300|trim(sfka002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfka_t.sfka002 AND ooag_t.ooagent = sfka_t.sfkaent))),l_sfka030_pjbml004(chr1000|trim(sfka030)||&apos;.&apos;||trim((SELECT pjbml004 FROM pjbml_t WHERE pjbml_t.pjbml001 = sfka_t.sfka028 AND pjbml_t.pjbml002 = sfka_t.sfka030 AND pjbml_t.pjbmlent = sfka_t.sfkaent AND pjbml_t.pjbml003 = g_dlang))),sfkgdocno,sfkgent,sfkg900,sfkadocdt,l_sfkg021_show(chr1|&apos;&apos;),l_sfkg021_desc(chr1000|&apos;&apos;),l_sfkc006_show(chr1|&apos;&apos;),l_sfkc006_desc(chr1000|&apos;&apos;),l_sfkc006(sfkc006|&apos;&apos;),l_sfkc001(sfkc001|&apos;&apos;),l_sfka017_label(chr1000|&apos;&apos;),l_sfka006_label(chr1000|&apos;&apos;),l_ooff013_show(chr1|&apos;&apos;),l_imaal003_imaal004_b(chr1000|&apos;&apos;),l_imaal003_imaal004(chr1000|&apos;&apos;),l_count(num5|&apos;&apos;),x_t7_imaal004(imaal004|x.t7_imaal004),imaal_t_imaal004(imaal004|( SELECT imaal004 FROM imaal_t WHERE imaal_t.imaal001 = sfka_t.sfka010 AND imaal_t.imaalent = sfka_t.sfkaent AND imaal_t.imaal002 = g_dlang)),l_sfka017_ooefl003(chr1000|&apos;&apos;),l_sfkg008_desc(gzcbl004|&apos;&apos;),l_order(chr30|&apos;&apos;),l_new(chr1|&apos;&apos;),l_sfkgseq_sfkgseq1(chr30|&apos;&apos;)"/>
    <sql id="g_from" query="sfka_t LEFT OUTER JOIN ( SELECT sfkg_t.*,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = sfkg_t.sfkg006 AND imaal_t.imaalent = sfkg_t.sfkgent AND imaal_t.imaal002 = g_dlang) t7_imaal003,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = sfkg_t.sfkg005 AND imaal_t.imaalent = sfkg_t.sfkgent AND imaal_t.imaal002 = g_dlang) t8_imaal003,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = sfkg_t.sfkg001 AND imaal_t.imaalent = sfkg_t.sfkgent AND imaal_t.imaal002 = g_dlang) t11_imaal003,( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = sfkg_t.sfkg014 AND oocal_t.oocalent = sfkg_t.sfkgent AND oocal_t.oocal002 = g_dlang) t6_oocal003,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;225&apos; AND oocql_t.oocql002 = sfkg_t.sfkg904 AND oocql_t.oocqlent = sfkg_t.sfkgent AND oocql_t.oocql003 = g_dlang) t3_oocql004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;221&apos; AND oocql_t.oocql002 = sfkg_t.sfkg003 AND oocql_t.oocqlent = sfkg_t.sfkgent AND oocql_t.oocql003 = g_dlang) t9_oocql004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;215&apos; AND oocql_t.oocql002 = sfkg_t.sfkg002 AND oocql_t.oocqlent = sfkg_t.sfkgent AND oocql_t.oocql003 = g_dlang) t10_oocql004,( SELECT imecl005 FROM imecl_t WHERE imecl_t.imecl003 = sfkg_t.sfkg021 AND imecl_t.imeclent = sfkg_t.sfkgent AND imecl_t.imecl004 = g_dlang) imecl_t_imecl005,( SELECT imaal004 FROM imaal_t WHERE imaal_t.imaal001 = sfkg_t.sfkg006 AND imaal_t.imaalent = sfkg_t.sfkgent AND imaal_t.imaal002 = g_dlang) t7_imaal004 FROM sfkg_t ) x  ON sfka_t.sfkaent = x.sfkgent AND sfka_t.sfkadocno = x.sfkgdocno AND sfka_t.sfka900 = x.sfkg900"/>
    <sql id="g_where" query="" maintable="sfka_t"/>
    <sql id="g_order" query="sfkadocno,sfka900,sfkgseq,sfkgseq1"/>
  </selprep>
  <mainrep>
    <section id="repOrder" name="l_order,sfkgseq,sfkgseq1"/>
    <section id="b_group" reptype="d01">
      <rep type="l_order" subtype="d03" sub_seq="01" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="sfkaent,l_order"/>
      <rep type="sfkgseq"/>
      <rep type="sfkgseq1"/>
    </section>
    <section id="everyrow">
      <rep type="before" subtype="d03" sub_seq="02" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="sfkaent,l_order,sfkgseq,sfkgseq1"/>
      <rep type="after" subtype="d03" sub_seq="03" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;1&apos; AND " pk="ooff002" where="sfkaent,l_order,sfkgseq,sfkgseq1"/>
    </section>
    <section id="a_group" reptype="d01">
      <rep type="l_order" subtype="d03" sub_seq="04" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002" where="sfkaent,l_order"/>
      <rep type="sfkgseq"/>
      <rep type="sfkgseq1"/>
    </section>
  </mainrep>
  <subrep>
    <subreptag id="01" recordseq="2"/>
    <subreptag id="02" recordseq="2"/>
    <subreptag id="03" recordseq="2"/>
    <subreptag id="04" recordseq="2"/>
  </subrep>
</assembly>

