<?xml version='1.0' encoding='UTF-8'?>
<assembly name="asfr002_g01" module="asf" jobmode="N" type="g01" industry="std" crtid="04226" crtdt="2014-08-27 15:55:46" modid="05384" moddt="2015-02-05 09:40:34" sdver="4" tabver="10001" description="工單用量差異表">
  <define arg="tm.wc(STRING|where condition),tm.b(chr1|標準用量有差),tm.c(chr1|實際用量有差)">
    <var seq="1" value="sfaa005,sfaa015,sfaa029,sfaa036,sfaa043,sfaa048,sfba006,sfba012,sfba014,sfba021,sfba023,sfba025,sfba027,sfaa012,sfaa013,sfaa016,sfaa030,sfaa034,sfaa042,sfaa045,sfaa049,sfaa058,sfaa060,sfba018,sfaa003,sfaa007,sfaa014,sfaa025,sfaa026,sfaa046,sfaa050,sfba015,sfba017,sfaa004,sfaa006,sfaa009,sfaa020,sfaa022,sfaa037,sfaa039,sfaa040,sfaa055,sfaastus,sfba004,sfba009,sfba022,sfbaseq1,sfaa001,sfaa057,sfaadocdt,sfaadocno,sfaa008,sfaa011,sfaa017,sfaa018,sfaa024,sfaa031,sfaa047,sfaa051,sfaa059,sfaa061,sfaa062,sfba001,sfba008,sfba024,sfaa019,sfaa038,sfaa041,sfaa056,sfba011,sfaa010,sfaa021,sfaa028,sfaa032,sfaa035,sfaa064,sfba003,sfba005,sfba007,sfba010,sfbaseq,sfaa002,sfaa023,sfaa033,sfaa044,sfaa063,sfba002,sfba013,sfba016,sfba019,sfba020,sfba026,sfba028,ooag_t_ooag011(ooag011|ooag_t.ooag011),pmaal_t_pmaal004(pmaal004|pmaal_t.pmaal004),imaal_t_imaal003(imaal003|imaal_t.imaal003),oocal_t_oocal003(oocal003|oocal_t.oocal003),ecba_t_ecba003(ecba003|ecba_t.ecba003),ooefl_t_ooefl003(ooefl003|ooefl_t.ooefl003),t1_ooefl003(ooefl003|t1.ooefl003),pjbal_t_pjbal003(pjbal003|pjbal_t.pjbal003),pjbbl_t_pjbbl004(pjbbl004|pjbbl_t.pjbbl004),oocql_t_oocql004(oocql004|oocql_t.oocql004),t2_oocal003(oocal003|t2.oocal003),x_t5_imaal003(imaal003|x.t5_imaal003),x_t3_oocql004(oocql004|x.t3_oocql004),x_t4_oocql004(oocql004|x.t4_oocql004),x_t6_imaal003(imaal003|x.t6_imaal003),x_t7_imaal003(imaal003|x.t7_imaal003),x_t9_oocal003(oocal003|x.t9_oocal003),l_sfaa002_ooag011(chr300|trim(sfaa002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfaa_t.sfaa002 AND ooag_t.ooagent = sfaa_t.sfaaent))),l_sfaa009_pmaal004(chr100|trim(sfaa009)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfaa_t.sfaa009 AND pmaal_t.pmaalent = sfaa_t.sfaaent AND pmaal_t.pmaal002 = g_dlang))),l_sfaa017_ooefl003(chr1000|trim(sfaa017)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooefl001 = sfaa_t.sfaa017 AND t1.ooeflent = sfaa_t.sfaaent AND t1.ooefl002 = g_dlang))),l_sfaa018_ooefl003(chr1000|trim(sfaa018)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfaa_t.sfaa018 AND ooefl_t.ooeflent = sfaa_t.sfaaent AND ooefl_t.ooefl002 = g_dlang))),l_sfaa028_pjbal003(chr1000|trim(sfaa028)||&apos;.&apos;||trim((SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfaa_t.sfaa028 AND pjbal_t.pjbalent = sfaa_t.sfaaent AND pjbal_t.pjbal002 = g_dlang))),l_sfaa029_pjbbl004(chr1000|trim(sfaa029)||&apos;.&apos;||trim((SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfaa_t.sfaa028 AND pjbbl_t.pjbbl002 = sfaa_t.sfaa029 AND pjbbl_t.pjbblent = sfaa_t.sfaaent AND pjbbl_t.pjbbl003 = g_dlang))),imaal_t_imaal004(imaal004|imaal_t.imaal004),l_norm(num20_6|NULL),l_real(num20_6|NULL),l_replace(num20_6|NULL),l_replace_norm(num20_6|NULL),l_replace_real(num20_6|NULL),sfaaent,l_ware_num(num20_6|NULL),l_sfbaseq_sfbaseq1(chr30|NULL)"/>
    <var seq="2" value="ooff013"/>
  </define>
  <selprep>
    <sql id="g_select" query="sfaa005,sfaa015,sfaa029,sfaa036,sfaa043,sfaa048,sfba006,sfba012,sfba014,sfba021,sfba023,sfba025,sfba027,sfaa012,sfaa013,sfaa016,sfaa030,sfaa034,sfaa042,sfaa045,sfaa049,sfaa058,sfaa060,sfba018,sfaa003,sfaa007,sfaa014,sfaa025,sfaa026,sfaa046,sfaa050,sfba015,sfba017,sfaa004,sfaa006,sfaa009,sfaa020,sfaa022,sfaa037,sfaa039,sfaa040,sfaa055,sfaastus,sfba004,sfba009,sfba022,sfbaseq1,sfaa001,sfaa057,sfaadocdt,sfaadocno,sfaa008,sfaa011,sfaa017,sfaa018,sfaa024,sfaa031,sfaa047,sfaa051,sfaa059,sfaa061,sfaa062,sfba001,sfba008,sfba024,sfaa019,sfaa038,sfaa041,sfaa056,sfba011,sfaa010,sfaa021,sfaa028,sfaa032,sfaa035,sfaa064,sfba003,sfba005,sfba007,sfba010,sfbaseq,sfaa002,sfaa023,sfaa033,sfaa044,sfaa063,sfba002,sfba013,sfba016,sfba019,sfba020,sfba026,sfba028,ooag_t_ooag011(ooag011|( SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfaa_t.sfaa002 AND ooag_t.ooagent = sfaa_t.sfaaent)),pmaal_t_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfaa_t.sfaa009 AND pmaal_t.pmaalent = sfaa_t.sfaaent AND pmaal_t.pmaal002 = g_dlang)),imaal_t_imaal003(imaal003|( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = sfaa_t.sfaa010 AND imaal_t.imaalent = sfaa_t.sfaaent AND imaal_t.imaal002 = g_dlang)),oocal_t_oocal003(oocal003|( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = sfaa_t.sfaa060 AND oocal_t.oocalent = sfaa_t.sfaaent AND oocal_t.oocal002 = g_dlang)),ecba_t_ecba003(ecba003|( SELECT ecba003 FROM ecba_t WHERE ecba_t.ecba001 = sfaa_t.sfaa010 AND ecba_t.ecba002 = sfaa_t.sfaa016 AND ecba_t.ecbaent = sfaa_t.sfaaent)),ooefl_t_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfaa_t.sfaa018 AND ooefl_t.ooeflent = sfaa_t.sfaaent AND ooefl_t.ooefl002 = g_dlang)),t1_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooefl001 = sfaa_t.sfaa017 AND t1.ooeflent = sfaa_t.sfaaent AND t1.ooefl002 = g_dlang)),pjbal_t_pjbal003(pjbal003|( SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfaa_t.sfaa028 AND pjbal_t.pjbalent = sfaa_t.sfaaent AND pjbal_t.pjbal002 = g_dlang)),pjbbl_t_pjbbl004(pjbbl004|( SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfaa_t.sfaa028 AND pjbbl_t.pjbbl002 = sfaa_t.sfaa029 AND pjbbl_t.pjbblent = sfaa_t.sfaaent AND pjbbl_t.pjbbl003 = g_dlang)),oocql_t_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;225&apos; AND oocql_t.oocql002 = sfaa_t.sfaa031 AND oocql_t.oocqlent = sfaa_t.sfaaent AND oocql_t.oocql003 = g_dlang)),t2_oocal003(oocal003|( SELECT oocal003 FROM oocal_t t2 WHERE t2.oocal001 = sfaa_t.sfaa013 AND t2.oocalent = sfaa_t.sfaaent AND t2.oocal002 = g_dlang)),x_t5_imaal003(imaal003|x.t5_imaal003),x_t3_oocql004(oocql004|x.t3_oocql004),x_t4_oocql004(oocql004|x.t4_oocql004),x_t6_imaal003(imaal003|x.t6_imaal003),x_t7_imaal003(imaal003|x.t7_imaal003),x_t9_oocal003(oocal003|x.t9_oocal003),l_sfaa002_ooag011(chr300|trim(sfaa002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = sfaa_t.sfaa002 AND ooag_t.ooagent = sfaa_t.sfaaent))),l_sfaa009_pmaal004(chr100|trim(sfaa009)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = sfaa_t.sfaa009 AND pmaal_t.pmaalent = sfaa_t.sfaaent AND pmaal_t.pmaal002 = g_dlang))),l_sfaa017_ooefl003(chr1000|trim(sfaa017)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooefl001 = sfaa_t.sfaa017 AND t1.ooeflent = sfaa_t.sfaaent AND t1.ooefl002 = g_dlang))),l_sfaa018_ooefl003(chr1000|trim(sfaa018)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = sfaa_t.sfaa018 AND ooefl_t.ooeflent = sfaa_t.sfaaent AND ooefl_t.ooefl002 = g_dlang))),l_sfaa028_pjbal003(chr1000|trim(sfaa028)||&apos;.&apos;||trim((SELECT pjbal003 FROM pjbal_t WHERE pjbal_t.pjbal001 = sfaa_t.sfaa028 AND pjbal_t.pjbalent = sfaa_t.sfaaent AND pjbal_t.pjbal002 = g_dlang))),l_sfaa029_pjbbl004(chr1000|trim(sfaa029)||&apos;.&apos;||trim((SELECT pjbbl004 FROM pjbbl_t WHERE pjbbl_t.pjbbl001 = sfaa_t.sfaa028 AND pjbbl_t.pjbbl002 = sfaa_t.sfaa029 AND pjbbl_t.pjbblent = sfaa_t.sfaaent AND pjbbl_t.pjbbl003 = g_dlang))),imaal_t_imaal004(imaal004|( SELECT imaal004 FROM imaal_t WHERE imaal_t.imaal001 = sfaa_t.sfaa010 AND imaal_t.imaalent = sfaa_t.sfaaent AND imaal_t.imaal002 = g_dlang)),l_norm(num20_6|NULL),l_real(num20_6|NULL),l_replace(num20_6|NULL),l_replace_norm(num20_6|NULL),l_replace_real(num20_6|NULL),sfaaent,l_ware_num(num20_6|NULL),l_sfbaseq_sfbaseq1(chr30|NULL)"/>
    <sql id="g_from" query="sfaa_t LEFT OUTER JOIN ( SELECT sfba_t.*,( SELECT imaal003 FROM imaal_t t5 WHERE t5.imaal001 = sfba_t.sfba001 AND t5.imaalent = sfba_t.sfbaent AND t5.imaal002 = g_dlang) t5_imaal003,( SELECT oocql004 FROM oocql_t t3 WHERE t3.oocql001 = &apos;221&apos; AND t3.oocql002 = sfba_t.sfba003 AND t3.oocqlent = sfba_t.sfbaent AND t3.oocql003 = g_dlang) t3_oocql004,( SELECT oocql004 FROM oocql_t t4 WHERE t4.oocql001 = &apos;215&apos; AND t4.oocql002 = sfba_t.sfba002 AND t4.oocqlent = sfba_t.sfbaent AND t4.oocql003 = g_dlang) t4_oocql004,( SELECT imaal003 FROM imaal_t t6 WHERE t6.imaal001 = sfba_t.sfba006 AND t6.imaalent = sfba_t.sfbaent AND t6.imaal002 = g_dlang) t6_imaal003,( SELECT imaal003 FROM imaal_t t7 WHERE t7.imaal001 = sfba_t.sfba005 AND t7.imaalent = sfba_t.sfbaent AND t7.imaal002 = g_dlang) t7_imaal003,( SELECT oocal003 FROM oocal_t t9 WHERE t9.oocal001 = sfba_t.sfba014 AND t9.oocalent = sfba_t.sfbaent AND t9.oocal002 = g_dlang) t9_oocal003 FROM sfba_t ) x  ON sfaa_t.sfaaent = x.sfbaent AND sfaa_t.sfaadocno = x.sfbadocno"/>
    <sql id="g_where" query="" maintable="sfaa_t"/>
    <sql id="g_order" query="sfaadocno,sfbaseq,sfbaseq1"/>
  </selprep>
  <mainrep>
    <section id="repOrder" type="EXTERNAL" name="sfaadocno,sfbaseq,sfbaseq1"/>
    <section id="b_group" reptype="d01">
      <rep type="sfaadocno" subtype="d03" sub_seq="01" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="sfaaent,sfaadocno"/>
      <rep type="sfbaseq"/>
      <rep type="sfbaseq1"/>
    </section>
    <section id="everyrow">
      <rep type="before" subtype="d03" sub_seq="02" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="sfaaent,sfaadocno,sfbaseq,sfbaseq1"/>
      <rep type="after" subtype="d03" sub_seq="03" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;1&apos; AND " pk="ooff002" where="sfaaent,sfaadocno,sfbaseq,sfbaseq1"/>
    </section>
    <section id="a_group" reptype="d01">
      <rep type="sfaadocno" subtype="d03" sub_seq="04" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002" where="sfaaent,sfaadocno"/>
      <rep type="sfbaseq"/>
      <rep type="sfbaseq1"/>
    </section>
  </mainrep>
  <subrep>
    <subreptag id="01" recordseq="2"/>
    <subreptag id="02" recordseq="2"/>
    <subreptag id="03" recordseq="2"/>
    <subreptag id="04" recordseq="2"/>
  </subrep>
</assembly>

