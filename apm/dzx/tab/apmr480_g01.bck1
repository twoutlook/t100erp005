<?xml version='1.0' encoding='UTF-8'?>
<assembly name="apmr480_g01" module="apm" jobmode="N" type="g01" industry="std" crtid="05231" crtdt="2014-05-08 11:25:49" modid="02097" moddt="2016-06-01 17:44:44" sdver="6" tabver="10001" description="採購合約單">
  <define arg="tm.wc(STRING|where condition)">
    <var seq="1" value="pmdx000,pmdx001,pmdx002,pmdx003,pmdx004,pmdx005,pmdx006,pmdx007,pmdx008,pmdx009,pmdx010,pmdx011,pmdx012,pmdx014,pmdx015,pmdx016,pmdx017,pmdx018,pmdx019,pmdx020,pmdx030,pmdxdocdt,pmdxdocno,pmdxent,pmdxsite,pmdxstus,pmdy001,pmdy002,pmdy003,pmdy004,pmdy005,pmdy006,pmdy007,pmdy008,pmdy009,pmdy010,pmdy011,pmdy012,pmdy013,pmdy014,pmdy017,pmdy018,pmdy019,pmdy020,pmdy021,pmdy022,pmdy023,pmdy024,pmdy030,pmdyseq,pmdysite,t3_oofa011(oofa011|t3.oofa011),oofa_t_oofa011(oofa011|oofa_t.oofa011),ooefl_t_ooefl003(ooefl003|ooefl_t.ooefl003),t1_ooefl003(ooefl003|t1.ooefl003),pmaal_t_pmaal004(pmaal004|pmaal_t.pmaal004),t2_pmaal004(pmaal004|t2.pmaal004),ooail_t_ooail003(ooail003|ooail_t.ooail003),ooibl_t_ooibl004(ooibl004|ooibl_t.ooibl004),oocql_t_oocql004(oocql004|oocql_t.oocql004),x_t4_oocql004(oocql004|x.t4_oocql004),x_t6_oocql004(oocql004|x.t6_oocql004),x_t8_oocql004(oocql004|x.t8_oocql004),oobxl_t_oobxl003(oobxl003|oobxl_t.oobxl003),x_t7_imaal003(imaal003|x.t7_imaal003),x_imaal_t_imaal004(imaal004|x.imaal_t_imaal004),l_pmdxdocno_oobxl003(chr1000|trim(pmdxdocno)||&apos;.&apos;||trim((SELECT oobxl003 FROM oobxl_t WHERE oobxl_t.oobxl001 = pmdx_t.pmdxdocno AND oobxl_t.oobxlent = pmdx_t.pmdxent AND oobxl_t.oobxl002 = g_dlang))),l_pmdx004_ooefl003(chr1000|trim(pmdx004)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooeflent = pmdx_t.pmdxent AND ooefl_t.ooefl001 = pmdx_t.pmdx004 AND ooefl_t.ooefl002 = g_dlang))),l_pmdx003_pmaal004(chr100|trim(pmdx003)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaalent = pmdx_t.pmdxent AND pmaal_t.pmaal001 = pmdx_t.pmdx003 AND pmaal_t.pmaal002 = g_dlang))),l_pmdx003_ooefl003(chr1000|trim(pmdx003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooeflent = pmdx_t.pmdxent AND t1.ooefl001 = pmdx_t.pmdx003 AND t1.ooefl002 = g_dlang))),l_pmdx004_pmaal004(chr100|trim(pmdx004)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t t2 WHERE t2.pmaalent = pmdx_t.pmdxent AND t2.pmaal001 = pmdx_t.pmdx004 AND t2.pmaal002 = g_dlang))),l_pmdx002_oofa011(chr300|trim(pmdx002)||&apos;.&apos;||trim((SELECT oofa011 FROM oofa_t t3 WHERE t3.oofaent = pmdx_t.pmdxent AND t3.oofa001 = pmdx_t.pmdx002))),l_pmdx16_desc(chr200|&apos;&apos;),l_pmdx17_desc(chr200|&apos;&apos;),l_pmdx18_desc(chr200|&apos;&apos;),x_t7_imaal004(imaal004|x.t7_imaal004),l_sumpmdy017(num20_6|NULL),l_sumpmdy018(num20_6|NULL),l_pmdx009_desc(chr300|&apos;&apos;),l_pmdx011_desc(chr300|&apos;&apos;),l_pmdx006_desc(chr80|&apos;&apos;)"/>
    <var seq="2" value="ooff013"/>
  </define>
  <selprep>
    <sql id="g_select" query="pmdx000,pmdx001,pmdx002,pmdx003,pmdx004,pmdx005,pmdx006,pmdx007,pmdx008,pmdx009,pmdx010,pmdx011,pmdx012,pmdx014,pmdx015,pmdx016,pmdx017,pmdx018,pmdx019,pmdx020,pmdx030,pmdxdocdt,pmdxdocno,pmdxent,pmdxsite,pmdxstus,pmdy001,pmdy002,pmdy003,pmdy004,pmdy005,pmdy006,pmdy007,pmdy008,pmdy009,pmdy010,pmdy011,pmdy012,pmdy013,pmdy014,pmdy017,pmdy018,pmdy019,pmdy020,pmdy021,pmdy022,pmdy023,pmdy024,pmdy030,pmdyseq,pmdysite,t3_oofa011(oofa011|( SELECT oofa011 FROM oofa_t t3 WHERE t3.oofaent = pmdx_t.pmdxent AND t3.oofa001 = pmdx_t.pmdx002)),oofa_t_oofa011(oofa011|( SELECT oofa011 FROM oofa_t WHERE oofa_t.oofaent = pmdx_t.pmdxent AND oofa_t.oofa003 = pmdx_t.pmdx002)),ooefl_t_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooeflent = pmdx_t.pmdxent AND ooefl_t.ooefl001 = pmdx_t.pmdx004 AND ooefl_t.ooefl002 = g_dlang)),t1_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooeflent = pmdx_t.pmdxent AND t1.ooefl001 = pmdx_t.pmdx003 AND t1.ooefl002 = g_dlang)),pmaal_t_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaalent = pmdx_t.pmdxent AND pmaal_t.pmaal001 = pmdx_t.pmdx003 AND pmaal_t.pmaal002 = g_dlang)),t2_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t t2 WHERE t2.pmaalent = pmdx_t.pmdxent AND t2.pmaal001 = pmdx_t.pmdx004 AND t2.pmaal002 = g_dlang)),ooail_t_ooail003(ooail003|( SELECT ooail003 FROM ooail_t WHERE ooail_t.ooailent = pmdx_t.pmdxent AND ooail_t.ooail001 = pmdx_t.pmdx005 AND ooail_t.ooail002 = g_dlang)),ooibl_t_ooibl004(ooibl004|( SELECT ooibl004 FROM ooibl_t WHERE ooibl_t.ooiblent = pmdx_t.pmdxent AND ooibl_t.ooibl002 = pmdx_t.pmdx009 AND ooibl_t.ooibl003 = g_dlang)),oocql_t_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocqlent = pmdx_t.pmdxent AND oocql_t.oocql001 = &apos;238&apos; AND oocql_t.oocql002 = pmdx_t.pmdx011 AND oocql_t.oocql003 = g_dlang)),x_t4_oocql004(oocql004|x.t4_oocql004),x_t6_oocql004(oocql004|x.t6_oocql004),x_t8_oocql004(oocql004|x.t8_oocql004),oobxl_t_oobxl003(oobxl003|( SELECT oobxl003 FROM oobxl_t WHERE oobxl_t.oobxl001 = pmdx_t.pmdxdocno AND oobxl_t.oobxlent = pmdx_t.pmdxent AND oobxl_t.oobxl002 = g_dlang)),x_t7_imaal003(imaal003|x.t7_imaal003),x_imaal_t_imaal004(imaal004|x.imaal_t_imaal004),l_pmdxdocno_oobxl003(chr1000|trim(pmdxdocno)||&apos;.&apos;||trim((SELECT oobxl003 FROM oobxl_t WHERE oobxl_t.oobxl001 = pmdx_t.pmdxdocno AND oobxl_t.oobxlent = pmdx_t.pmdxent AND oobxl_t.oobxl002 = g_dlang))),l_pmdx004_ooefl003(chr1000|trim(pmdx004)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooeflent = pmdx_t.pmdxent AND ooefl_t.ooefl001 = pmdx_t.pmdx004 AND ooefl_t.ooefl002 = g_dlang))),l_pmdx003_pmaal004(chr100|trim(pmdx003)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaalent = pmdx_t.pmdxent AND pmaal_t.pmaal001 = pmdx_t.pmdx003 AND pmaal_t.pmaal002 = g_dlang))),l_pmdx003_ooefl003(chr1000|trim(pmdx003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t1 WHERE t1.ooeflent = pmdx_t.pmdxent AND t1.ooefl001 = pmdx_t.pmdx003 AND t1.ooefl002 = g_dlang))),l_pmdx004_pmaal004(chr100|trim(pmdx004)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t t2 WHERE t2.pmaalent = pmdx_t.pmdxent AND t2.pmaal001 = pmdx_t.pmdx004 AND t2.pmaal002 = g_dlang))),l_pmdx002_oofa011(chr300|trim(pmdx002)||&apos;.&apos;||trim((SELECT oofa011 FROM oofa_t t3 WHERE t3.oofaent = pmdx_t.pmdxent AND t3.oofa001 = pmdx_t.pmdx002))),l_pmdx16_desc(chr200|&apos;&apos;),l_pmdx17_desc(chr200|&apos;&apos;),l_pmdx18_desc(chr200|&apos;&apos;),x_t7_imaal004(imaal004|x.t7_imaal004),l_sumpmdy017(num20_6|NULL),l_sumpmdy018(num20_6|NULL),l_pmdx009_desc(chr300|&apos;&apos;),l_pmdx011_desc(chr300|&apos;&apos;),l_pmdx006_desc(chr80|&apos;&apos;)"/>
    <sql id="g_from" query="pmdx_t LEFT OUTER JOIN ( SELECT pmdy_t.*,( SELECT oocql004 FROM oocql_t t4 WHERE t4.oocqlent = pmdy_t.pmdyent AND t4.oocql001 = &apos;263&apos; AND t4.oocql002 = pmdy_t.pmdy013 AND t4.oocql003 = g_dlang) t4_oocql004,( SELECT oocql004 FROM oocql_t t6 WHERE t6.oocqlent = pmdy_t.pmdyent AND t6.oocql001 = &apos;221&apos; AND t6.oocql002 = pmdy_t.pmdy006 AND t6.oocql003 = g_dlang) t6_oocql004,( SELECT oocql004 FROM oocql_t t8 WHERE t8.oocqlent = pmdy_t.pmdyent AND t8.oocql001 = &apos;277&apos; AND t8.oocql002 = pmdy_t.pmdy014 AND t8.oocql003 = g_dlang) t8_oocql004,( SELECT imaal003 FROM imaal_t t7 WHERE t7.imaalent = pmdy_t.pmdyent AND t7.imaal001 = pmdy_t.pmdy002 AND t7.imaal002 = g_dlang) t7_imaal003,( SELECT imaal004 FROM imaal_t WHERE imaal_t.imaalent = pmdy_t.pmdyent AND imaal_t.imaal001 = pmdy_t.pmdy001 AND imaal_t.imaal002 = g_dlang) imaal_t_imaal004,( SELECT imaal004 FROM imaal_t t7 WHERE t7.imaalent = pmdy_t.pmdyent AND t7.imaal001 = pmdy_t.pmdy002 AND t7.imaal002 = g_dlang) t7_imaal004 FROM pmdy_t ) x  ON pmdx_t.pmdxent = x.pmdyent AND pmdx_t.pmdxdocno = x.pmdydocno AND pmdx_t.pmdxsite = x.pmdysite"/>
    <sql id="g_where" query="" maintable="pmdx_t"/>
    <sql id="g_order" query="pmdxdocno,pmdyseq"/>
  </selprep>
  <mainrep>
    <section id="repOrder" type="EXTERNAL" name="pmdxdocno,pmdyseq"/>
    <section id="b_group" reptype="d01">
      <rep type="pmdxdocno" subtype="d03" sub_seq="01" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="pmdxent,pmdxdocno"/>
      <rep type="pmdyseq"/>
    </section>
    <section id="everyrow">
      <rep type="before" subtype="d03" sub_seq="02" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002,ooff003" where="pmdxent,pmdxdocno,pmdyseq"/>
      <rep type="after" subtype="d03" sub_seq="03" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002,ooff003" where="pmdxent,pmdxdocno,pmdyseq"/>
    </section>
    <section id="a_group" reptype="d01">
      <rep type="pmdxdocno" subtype="d03" sub_seq="04" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002" where="pmdxent,pmdxdocno"/>
      <rep type="pmdyseq"/>
    </section>
  </mainrep>
  <subrep>
    <subreptag id="01" recordseq="2"/>
    <subreptag id="02" recordseq="2"/>
    <subreptag id="03" recordseq="2"/>
    <subreptag id="04" recordseq="2"/>
  </subrep>
</assembly>

