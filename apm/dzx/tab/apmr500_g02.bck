<?xml version='1.0' encoding='UTF-8'?>
<assembly name="apmr500_g02" module="apm" jobmode="N" type="g01" industry="std" crtid="06840" crtdt="2016-10-28 17:53:08" modid="06137" moddt="2017-01-25 09:53:48" sdver="4" tabver="10001" description="...">
  <define arg="tm.wc(STRING|QBE條件),tm.c1(chr1|單據來源列印),tm.a1(chr1|列印額外品名)">
    <var seq="1" value="t1_pmaal003(pmaal003|t1.pmaal003),t2_pmaal003(pmaal003|t2.pmaal003),t5_pmaal003(pmaal003|t5.pmaal003),t5_pmaal006(pmaal006|t5.pmaal006),pmaal_t_pmaal005(pmaal005|pmaal_t.pmaal005),t2_pmaal006(pmaal006|t2.pmaal006),t1_pmaal006(pmaal006|t1.pmaal006),pmdl001,pmdl002,pmdl003,pmdl004,pmdl005,pmdl006,pmdl007,pmdl008,pmdl009,pmdl010,pmdl011,pmdl012,pmdl013,pmdl015,pmdl016,pmdl017,pmdl018,pmdl019,pmdl020,pmdl021,pmdl022,pmdl023,pmdl024,pmdl025,pmdl026,pmdl027,pmdl028,pmdl029,pmdl030,pmdl031,pmdl032,pmdl033,pmdl040,pmdl041,pmdl042,pmdl043,pmdl044,pmdl046,pmdl047,pmdl048,pmdl049,pmdldocdt,pmdldocno,pmdlent,pmdlsite,pmdlstus,pmdn001,pmdn002,pmdn003,pmdn004,pmdn005,pmdn006,pmdn007,pmdn008,pmdn009,pmdn010,pmdn011,pmdn012,pmdn013,pmdn014,pmdn015,pmdn016,pmdn017,pmdn019,pmdn020,pmdn021,pmdn022,pmdn023,pmdn024,pmdn025,pmdn026,pmdn027,pmdn028,pmdn029,pmdn030,pmdn031,pmdn032,pmdn033,pmdn034,pmdn035,pmdn036,pmdn037,pmdn038,pmdn039,pmdn040,pmdn041,pmdn042,pmdn043,pmdn044,pmdn045,pmdn046,pmdn047,pmdn048,pmdn049,pmdn050,pmdn051,pmdnorga,pmdnseq,pmdnsite,pmdnunit,t7_ooag011(ooag011|t7.ooag011),oofa_t_oofa011(oofa011|oofa_t.oofa011),ooefl_t_ooefl003(ooefl003|ooefl_t.ooefl003),t8_ooefl003(ooefl003|t8.ooefl003),x_t10_ooefl003(ooefl003|x.t10_ooefl003),x_t11_ooefl003(ooefl003|x.t11_ooefl003),t1_pmaal004(pmaal004|t1.pmaal004),t2_pmaal004(pmaal004|t2.pmaal004),t5_pmaal004(pmaal004|t5.pmaal004),pmaal_t_pmaal004(pmaal004|pmaal_t.pmaal004),x_t15_pmaal004(pmaal004|x.t15_pmaal004),ooibl_t_ooibl004(ooibl004|ooibl_t.ooibl004),oojdl_t_oojdl003(oojdl003|oojdl_t.oojdl003),t3_oocql004(oocql004|t3.oocql004),t4_oocql004(oocql004|t4.oocql004),t6_oocql004(oocql004|t6.oocql004),t9_oocql004(oocql004|t9.oocql004),x_t12_oocql004(oocql004|x.t12_oocql004),x_t13_oocql004(oocql004|x.t13_oocql004),x_t14_oocql004(oocql004|x.t14_oocql004),x_t19_oocql004(oocql004|x.t19_oocql004),ooail_t_ooail003(ooail003|ooail_t.ooail003),pmaml_t_pmaml003(pmaml003|pmaml_t.pmaml003),ooidl_t_ooidl003(ooidl003|ooidl_t.ooidl003),x_imaal_t_imaal003(imaal003|x.imaal_t_imaal003),x_t20_imaal003(imaal003|x.t20_imaal003),x_oocal_t_oocal003(oocal003|x.oocal_t_oocal003),x_t17_oocal003(oocal003|x.t17_oocal003),x_t18_oocal003(oocal003|x.t18_oocal003),l_pmdl004_pmaal004(chr37|trim(pmdl004)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl004 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl021_pmaal004(chr100|trim(pmdl021)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl021 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl022_pmaal004(chr100|trim(pmdl022)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl022 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl002_ooag011(chr20|trim(pmdl002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdl_t.pmdl002 AND ooag_t.ooagent = pmdl_t.pmdlent))),l_pmdl003_ooefl003(chr20|trim(pmdl003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdl_t.pmdl003 AND ooefl_t.ooeflent = pmdl_t.pmdlent AND ooefl_t.ooefl002 = g_dlang))),l_pmdn001_imaal004(chr30|NULL),l_pmdnunit_ooefl003(chr20|trim(pmdnunit)||&apos;.&apos;||trim(x.t10_ooefl003)),l_pmdnorga_ooefl003(chr20|trim(pmdnorga)||&apos;.&apos;||trim(x.t11_ooefl003)),l_pmdn027_desc(chr20|NULL),l_pmdl011_desc(chr30|NULL),l_amount(num20_6|NULL),l_pmdl025_address(oofb017|&apos;&apos;),l_pmdl026_address(oofb017|&apos;&apos;),l_pmdl027_tel(oofc012|&apos;&apos;),l_pmdl027_fax(oofc012|&apos;&apos;)"/>
    <var seq="2" value="ooff013"/>
  </define>
  <selprep>
    <sql id="g_select" query="t1_pmaal003(pmaal003|( SELECT pmaal003 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl022 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t2_pmaal003(pmaal003|( SELECT pmaal003 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl021 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t5_pmaal003(pmaal003|( SELECT pmaal003 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl004 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t5_pmaal006(pmaal006|( SELECT pmaal006 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl004 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),pmaal_t_pmaal005(pmaal005|( SELECT pmaal005 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl032 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t2_pmaal006(pmaal006|( SELECT pmaal006 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl021 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t1_pmaal006(pmaal006|( SELECT pmaal006 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl022 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),pmdl001,pmdl002,pmdl003,pmdl004,pmdl005,pmdl006,pmdl007,pmdl008,pmdl009,pmdl010,pmdl011,pmdl012,pmdl013,pmdl015,pmdl016,pmdl017,pmdl018,pmdl019,pmdl020,pmdl021,pmdl022,pmdl023,pmdl024,pmdl025,pmdl026,pmdl027,pmdl028,pmdl029,pmdl030,pmdl031,pmdl032,pmdl033,pmdl040,pmdl041,pmdl042,pmdl043,pmdl044,pmdl046,pmdl047,pmdl048,pmdl049,pmdldocdt,pmdldocno,pmdlent,pmdlsite,pmdlstus,pmdn001,pmdn002,pmdn003,pmdn004,pmdn005,pmdn006,pmdn007,pmdn008,pmdn009,pmdn010,pmdn011,pmdn012,pmdn013,pmdn014,pmdn015,pmdn016,pmdn017,pmdn019,pmdn020,pmdn021,pmdn022,pmdn023,pmdn024,pmdn025,pmdn026,pmdn027,pmdn028,pmdn029,pmdn030,pmdn031,pmdn032,pmdn033,pmdn034,pmdn035,pmdn036,pmdn037,pmdn038,pmdn039,pmdn040,pmdn041,pmdn042,pmdn043,pmdn044,pmdn045,pmdn046,pmdn047,pmdn048,pmdn049,pmdn050,pmdn051,pmdnorga,pmdnseq,pmdnsite,pmdnunit,t7_ooag011(ooag011|( SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdl_t.pmdl002 AND ooag_t.ooagent = pmdl_t.pmdlent)),oofa_t_oofa011(oofa011|( SELECT oofa011 FROM oofa_t WHERE oofa_t.oofa001 = pmdl_t.pmdl027 AND oofa_t.oofaent = pmdl_t.pmdlent)),ooefl_t_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdl_t.pmdl003 AND ooefl_t.ooeflent = pmdl_t.pmdlent AND ooefl_t.ooefl002 = g_dlang)),t8_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdl_t.pmdl029 AND ooefl_t.ooeflent = pmdl_t.pmdlent AND ooefl_t.ooefl002 = g_dlang)),x_t10_ooefl003(ooefl003|x.t10_ooefl003),x_t11_ooefl003(ooefl003|x.t11_ooefl003),t1_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl022 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t2_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl021 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),t5_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl004 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),pmaal_t_pmaal004(pmaal004|( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl032 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang)),x_t15_pmaal004(pmaal004|x.t15_pmaal004),ooibl_t_ooibl004(ooibl004|( SELECT ooibl004 FROM ooibl_t WHERE ooibl_t.ooibl002 = pmdl_t.pmdl009 AND ooibl_t.ooiblent = pmdl_t.pmdlent AND ooibl_t.ooibl003 = g_dlang)),oojdl_t_oojdl003(oojdl003|( SELECT oojdl003 FROM oojdl_t WHERE oojdl_t.oojdl001 = pmdl_t.pmdl023 AND oojdl_t.oojdlent = pmdl_t.pmdlent AND oojdl_t.oojdl002 = g_dlang)),t3_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;263&apos; AND oocql_t.oocql002 = pmdl_t.pmdl020 AND oocql_t.oocqlent = pmdl_t.pmdlent AND oocql_t.oocql003 = g_dlang)),t4_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;238&apos; AND oocql_t.oocql002 = pmdl_t.pmdl010 AND oocql_t.oocqlent = pmdl_t.pmdlent AND oocql_t.oocql003 = g_dlang)),t6_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;298&apos; AND oocql_t.oocql002 = pmdl_t.pmdl043 AND oocql_t.oocqlent = pmdl_t.pmdlent AND oocql_t.oocql003 = g_dlang)),t9_oocql004(oocql004|( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;264&apos; AND oocql_t.oocql002 = pmdl_t.pmdl024 AND oocql_t.oocqlent = pmdl_t.pmdlent AND oocql_t.oocql003 = g_dlang)),x_t12_oocql004(oocql004|x.t12_oocql004),x_t13_oocql004(oocql004|x.t13_oocql004),x_t14_oocql004(oocql004|x.t14_oocql004),x_t19_oocql004(oocql004|x.t19_oocql004),ooail_t_ooail003(ooail003|( SELECT ooail003 FROM ooail_t WHERE ooail_t.ooail001 = pmdl_t.pmdl015 AND ooail_t.ooailent = pmdl_t.pmdlent AND ooail_t.ooail002 = g_dlang)),pmaml_t_pmaml003(pmaml003|( SELECT pmaml003 FROM pmaml_t WHERE pmaml_t.pmaml001 = pmdl_t.pmdl017 AND pmaml_t.pmamlent = pmdl_t.pmdlent AND pmaml_t.pmaml002 = g_dlang)),ooidl_t_ooidl003(ooidl003|( SELECT ooidl003 FROM ooidl_t WHERE ooidl_t.ooidl001 = pmdl_t.pmdl018 AND ooidl_t.ooidlent = pmdl_t.pmdlent AND ooidl_t.ooidl002 = g_dlang)),x_imaal_t_imaal003(imaal003|x.imaal_t_imaal003),x_t20_imaal003(imaal003|x.t20_imaal003),x_oocal_t_oocal003(oocal003|x.oocal_t_oocal003),x_t17_oocal003(oocal003|x.t17_oocal003),x_t18_oocal003(oocal003|x.t18_oocal003),l_pmdl004_pmaal004(chr37|trim(pmdl004)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl004 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl021_pmaal004(chr100|trim(pmdl021)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl021 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl022_pmaal004(chr100|trim(pmdl022)||&apos;.&apos;||trim((SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdl_t.pmdl022 AND pmaal_t.pmaalent = pmdl_t.pmdlent AND pmaal_t.pmaal002 = g_dlang))),l_pmdl002_ooag011(chr20|trim(pmdl002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdl_t.pmdl002 AND ooag_t.ooagent = pmdl_t.pmdlent))),l_pmdl003_ooefl003(chr20|trim(pmdl003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdl_t.pmdl003 AND ooefl_t.ooeflent = pmdl_t.pmdlent AND ooefl_t.ooefl002 = g_dlang))),l_pmdn001_imaal004(chr30|NULL),l_pmdnunit_ooefl003(chr20|trim(pmdnunit)||&apos;.&apos;||trim(x.t10_ooefl003)),l_pmdnorga_ooefl003(chr20|trim(pmdnorga)||&apos;.&apos;||trim(x.t11_ooefl003)),l_pmdn027_desc(chr20|NULL),l_pmdl011_desc(chr30|NULL),l_amount(num20_6|NULL),l_pmdl025_address(oofb017|&apos;&apos;),l_pmdl026_address(oofb017|&apos;&apos;),l_pmdl027_tel(oofc012|&apos;&apos;),l_pmdl027_fax(oofc012|&apos;&apos;)"/>
    <sql id="g_from" query="pmdl_t LEFT OUTER JOIN ( SELECT pmdn_t.*,( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdn_t.pmdnunit AND ooefl_t.ooeflent = pmdn_t.pmdnent AND ooefl_t.ooefl002 = g_dlang) t10_ooefl003,( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdn_t.pmdnorga AND ooefl_t.ooeflent = pmdn_t.pmdnent AND ooefl_t.ooefl002 = g_dlang) t11_ooefl003,( SELECT pmaal004 FROM pmaal_t WHERE pmaal_t.pmaal001 = pmdn_t.pmdn023 AND pmaal_t.pmaalent = pmdn_t.pmdnent AND pmaal_t.pmaal002 = g_dlang) t15_pmaal004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;265&apos; AND oocql_t.oocql002 = pmdn_t.pmdn051 AND oocql_t.oocqlent = pmdn_t.pmdnent AND oocql_t.oocql003 = g_dlang) t12_oocql004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;265&apos; AND oocql_t.oocql002 = pmdn_t.pmdn049 AND oocql_t.oocqlent = pmdn_t.pmdnent AND oocql_t.oocql003 = g_dlang) t13_oocql004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;263&apos; AND oocql_t.oocql002 = pmdn_t.pmdn031 AND oocql_t.oocqlent = pmdn_t.pmdnent AND oocql_t.oocql003 = g_dlang) t14_oocql004,( SELECT oocql004 FROM oocql_t WHERE oocql_t.oocql001 = &apos;221&apos; AND oocql_t.oocql002 = pmdn_t.pmdn004 AND oocql_t.oocqlent = pmdn_t.pmdnent AND oocql_t.oocql003 = g_dlang) t19_oocql004,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = pmdn_t.pmdn003 AND imaal_t.imaalent = pmdn_t.pmdnent AND imaal_t.imaal002 = g_dlang) imaal_t_imaal003,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = pmdn_t.pmdn001 AND imaal_t.imaalent = pmdn_t.pmdnent AND imaal_t.imaal002 = g_dlang) t20_imaal003,( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = pmdn_t.pmdn010 AND oocal_t.oocalent = pmdn_t.pmdnent AND oocal_t.oocal002 = g_dlang) oocal_t_oocal003,( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = pmdn_t.pmdn008 AND oocal_t.oocalent = pmdn_t.pmdnent AND oocal_t.oocal002 = g_dlang) t17_oocal003,( SELECT oocal003 FROM oocal_t WHERE oocal_t.oocal001 = pmdn_t.pmdn006 AND oocal_t.oocalent = pmdn_t.pmdnent AND oocal_t.oocal002 = g_dlang) t18_oocal003 FROM pmdn_t ) x  ON pmdl_t.pmdlent = x.pmdnent AND pmdl_t.pmdldocno = x.pmdndocno AND pmdl_t.pmdlsite = x.pmdnsite"/>
    <sql id="g_where" query="" maintable="pmdl_t"/>
    <sql id="g_order" query="pmdldocno,pmdnseq,pmdn001"/>
  </selprep>
  <mainrep>
    <section id="repOrder" name="pmdldocno,pmdnseq"/>
    <section id="b_group" reptype="d01">
      <rep type="pmdldocno" subtype="d03" sub_seq="01" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;2&apos; AND ooff004=0 AND " pk="ooffent,ooff003" where="pmdlent,pmdldocno"/>
      <rep type="pmdnseq"/>
    </section>
    <section id="everyrow">
      <rep type="before" subtype="d03" sub_seq="02" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff003,ooff004" where="pmdlent,pmdldocno,pmdnseq"/>
      <rep type="after" subtype="d03" sub_seq="03" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff003,ooff004" where="pmdlent,pmdldocno,pmdnseq"/>
    </section>
    <section id="a_group" reptype="d01">
      <rep type="pmdldocno" subtype="d03" sub_seq="04" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;1&apos; AND ooff004=0 AND " pk="ooffent,ooff003" where="pmdlent,pmdldocno"/>
      <rep type="pmdnseq"/>
    </section>
  </mainrep>
  <subrep>
    <subreptag id="01" recordseq="2"/>
    <subreptag id="02" recordseq="2"/>
    <subreptag id="03" recordseq="2"/>
    <subreptag id="04" recordseq="2"/>
  </subrep>
</assembly>

