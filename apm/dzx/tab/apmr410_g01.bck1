<?xml version='1.0' encoding='UTF-8'?>
<assembly name="apmr410_g01" module="apm" jobmode="N" type="g01" industry="std" crtid="05229" crtdt="2014-06-19 17:37:14" modid="05423" moddt="2016-10-20 14:22:46" sdver="8" tabver="10001" description="請購變更單">
  <define arg="tm.wc(STRING|where condition),tm.a1(chr1|變更的資料)">
    <var seq="1" value="pmdc001,pmdc002,pmdc003,pmdc004,pmdc005,pmdc006,pmdc007,pmdc010,pmdc011,pmdc012,pmdc020,pmdc021,pmdc022,pmdc900,pmdc901,pmdc902,pmdc905,pmdc906,pmdcacti,pmdcdocdt,pmdcdocno,pmdcent,pmdcsite,pmdcstus,pmdd001,pmdd002,pmdd003,pmdd004,pmdd005,pmdd006,pmdd007,pmdd008,pmdd009,pmdd010,pmdd011,pmdd012,pmdd014,pmdd015,pmdd016,pmdd017,pmdd018,pmdd019,pmdd020,pmdd021,pmdd030,pmdd031,pmdd032,pmdd033,pmdd034,pmdd035,pmdd036,pmdd037,pmdd038,pmdd039,pmdd040,pmdd041,pmdd042,pmdd043,pmdd044,pmdd045,pmdd046,pmdd048,pmdd049,pmdd050,pmdd901,pmdd902,pmdd903,pmddseq,pmddsite,ooag_t_ooag011(ooag011|ooag_t.ooag011),ooefl_t_ooefl003(ooefl003|ooefl_t.ooefl003),t2_ooefl003(ooefl003|t2.ooefl003),x_t5_ooefl003(ooefl003|x.t5_ooefl003),x_t6_ooefl003(ooefl003|x.t6_ooefl003),x_imaal_t_imaal003(imaal003|x.imaal_t_imaal003),x_t10_imaal003(imaal003|x.t10_imaal003),l_pmdc002_ooag011(chr300|trim(pmdc002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdc_t.pmdc002 AND ooag_t.ooagent = pmdc_t.pmdcent))),l_pmdc003_ooefl003(chr1000|trim(pmdc003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t2 WHERE t2.ooefl001 = pmdc_t.pmdc003 AND t2.ooeflent = pmdc_t.pmdcent AND t2.ooefl002 = g_dlang))),l_pmdc007_ooefl003(chr1000|trim(pmdc007)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdc_t.pmdc007 AND ooefl_t.ooeflent = pmdc_t.pmdcent AND ooefl_t.ooefl002 = g_dlang))),l_pmdd046_ooefl003(chr1000|trim(pmdd046)||&apos;.&apos;||trim(x.t6_ooefl003)),l_pmdd033_desc(chr30|NULL),x_t10_imaal004(imaal004|x.t10_imaal004),pmdd900,l_pmdc010_desc(chr100|&apos;&apos;),l_pmdc905_desc(chr100|&apos;&apos;),l_pmdd014_desc(chr100|&apos;&apos;),l_pmdd017_desc(chr100|&apos;&apos;),l_pmdd016_desc(chr100|&apos;&apos;),l_pmdd042_desc(chr100|&apos;&apos;),l_pmdd041_desc(chr100|&apos;&apos;),l_pmdd015_pmaal003(chr100|&apos;&apos;),l_order(chr30|NULL)"/>
    <var seq="2" value="ooff013"/>
  </define>
  <selprep>
    <sql id="g_select" query="pmdc001,pmdc002,pmdc003,pmdc004,pmdc005,pmdc006,pmdc007,pmdc010,pmdc011,pmdc012,pmdc020,pmdc021,pmdc022,pmdc900,pmdc901,pmdc902,pmdc905,pmdc906,pmdcacti,pmdcdocdt,pmdcdocno,pmdcent,pmdcsite,pmdcstus,pmdd001,pmdd002,pmdd003,pmdd004,pmdd005,pmdd006,pmdd007,pmdd008,pmdd009,pmdd010,pmdd011,pmdd012,pmdd014,pmdd015,pmdd016,pmdd017,pmdd018,pmdd019,pmdd020,pmdd021,pmdd030,pmdd031,pmdd032,pmdd033,pmdd034,pmdd035,pmdd036,pmdd037,pmdd038,pmdd039,pmdd040,pmdd041,pmdd042,pmdd043,pmdd044,pmdd045,pmdd046,pmdd048,pmdd049,pmdd050,pmdd901,pmdd902,pmdd903,pmddseq,pmddsite,ooag_t_ooag011(ooag011|( SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdc_t.pmdc002 AND ooag_t.ooagent = pmdc_t.pmdcent)),ooefl_t_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdc_t.pmdc007 AND ooefl_t.ooeflent = pmdc_t.pmdcent AND ooefl_t.ooefl002 = g_dlang)),t2_ooefl003(ooefl003|( SELECT ooefl003 FROM ooefl_t t2 WHERE t2.ooefl001 = pmdc_t.pmdc003 AND t2.ooeflent = pmdc_t.pmdcent AND t2.ooefl002 = g_dlang)),x_t5_ooefl003(ooefl003|x.t5_ooefl003),x_t6_ooefl003(ooefl003|x.t6_ooefl003),x_imaal_t_imaal003(imaal003|x.imaal_t_imaal003),x_t10_imaal003(imaal003|x.t10_imaal003),l_pmdc002_ooag011(chr300|trim(pmdc002)||&apos;.&apos;||trim((SELECT ooag011 FROM ooag_t WHERE ooag_t.ooag001 = pmdc_t.pmdc002 AND ooag_t.ooagent = pmdc_t.pmdcent))),l_pmdc003_ooefl003(chr1000|trim(pmdc003)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t t2 WHERE t2.ooefl001 = pmdc_t.pmdc003 AND t2.ooeflent = pmdc_t.pmdcent AND t2.ooefl002 = g_dlang))),l_pmdc007_ooefl003(chr1000|trim(pmdc007)||&apos;.&apos;||trim((SELECT ooefl003 FROM ooefl_t WHERE ooefl_t.ooefl001 = pmdc_t.pmdc007 AND ooefl_t.ooeflent = pmdc_t.pmdcent AND ooefl_t.ooefl002 = g_dlang))),l_pmdd046_ooefl003(chr1000|trim(pmdd046)||&apos;.&apos;||trim(x.t6_ooefl003)),l_pmdd033_desc(chr30|NULL),x_t10_imaal004(imaal004|x.t10_imaal004),pmdd900,l_pmdc010_desc(chr100|&apos;&apos;),l_pmdc905_desc(chr100|&apos;&apos;),l_pmdd014_desc(chr100|&apos;&apos;),l_pmdd017_desc(chr100|&apos;&apos;),l_pmdd016_desc(chr100|&apos;&apos;),l_pmdd042_desc(chr100|&apos;&apos;),l_pmdd041_desc(chr100|&apos;&apos;),l_pmdd015_pmaal003(chr100|&apos;&apos;),l_order(chr30|NULL)"/>
    <sql id="g_from" query="pmdc_t LEFT OUTER JOIN ( SELECT pmdd_t.*,( SELECT ooefl003 FROM ooefl_t t5 WHERE t5.ooefl001 = pmdd_t.pmdd037 AND t5.ooeflent = pmdd_t.pmddent AND t5.ooefl002 = g_dlang) t5_ooefl003,( SELECT ooefl003 FROM ooefl_t t6 WHERE t6.ooefl001 = pmdd_t.pmdd046 AND t6.ooeflent = pmdd_t.pmddent AND t6.ooefl002 = g_dlang) t6_ooefl003,( SELECT imaal003 FROM imaal_t WHERE imaal_t.imaal001 = pmdd_t.pmdd012 AND imaal_t.imaalent = pmdd_t.pmddent AND imaal_t.imaal002 = g_dlang) imaal_t_imaal003,( SELECT imaal003 FROM imaal_t t10 WHERE t10.imaal001 = pmdd_t.pmdd004 AND t10.imaalent = pmdd_t.pmddent AND t10.imaal002 = g_dlang) t10_imaal003,( SELECT imaal004 FROM imaal_t t10 WHERE t10.imaal001 = pmdd_t.pmdd004 AND t10.imaalent = pmdd_t.pmddent AND t10.imaal002 = g_dlang) t10_imaal004 FROM pmdd_t ) x  ON pmdc_t.pmdcent = x.pmddent AND pmdc_t.pmdcdocno = x.pmdddocno AND pmdc_t.pmdc900 = x.pmdd900"/>
    <sql id="g_where" query="" maintable="pmdc_t"/>
    <sql id="g_order" query="pmdc900,pmddseq,pmdcdocno"/>
  </selprep>
  <mainrep>
    <section id="repOrder" name="l_order,pmddseq"/>
    <section id="b_group" reptype="d01">
      <rep type="l_order" subtype="d03" sub_seq="01" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002" where="pmdcent,l_order"/>
      <rep type="pmddseq"/>
    </section>
    <section id="everyrow">
      <rep type="before" subtype="d03" sub_seq="02" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;2&apos; AND " pk="ooffent,ooff002,ooff003" where="pmdcent,l_order,pmddseq"/>
      <rep type="after" subtype="d03" sub_seq="03" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;7&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002,ooff003" where="pmdcent,l_order,pmddseq"/>
    </section>
    <section id="a_group" reptype="d01">
      <rep type="l_order" subtype="d03" sub_seq="04" recordseq="2" sub_query=" SELECT ooff013 FROM ooff_t WHERE ooffstus=&apos;Y&apos; and ooff001=&apos;6&apos; AND ooff012=&apos;1&apos; AND " pk="ooffent,ooff002" where="pmdcent,l_order"/>
      <rep type="pmddseq"/>
    </section>
  </mainrep>
  <subrep>
    <subreptag id="01" recordseq="2"/>
    <subreptag id="02" recordseq="2"/>
    <subreptag id="03" recordseq="2"/>
    <subreptag id="04" recordseq="2"/>
  </subrep>
</assembly>

